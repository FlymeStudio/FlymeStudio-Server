webpackJsonp([1],{"+skl":function(t,e){},"5zOH":function(t,e){},"6Rtc":function(t,e){},"8HXG":function(t,e){},"8S6E":function(t,e){},"8jEQ":function(t,e){},AuNF:function(t,e){},GlFE:function(t,e){},Lalb:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",[e("router-view")],1)])},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(t){a("l2Mk")},null,null).exports,o=a("/ocq"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Footer",{staticClass:"layout-footer-center"},[e("Form",{attrs:{width:"auto",inline:""}},[e("FormItem",[e("span",{staticStyle:{color:"black"}},[this._v("Powered by "),e("a",{staticStyle:{color:"black"},attrs:{href:"https://github.com/frogfans",target:"_blank"}},[this._v("ZengYu")]),this._v(" - Copyright Â©2018 All Rights Reserved")])]),this._v(" "),e("FormItem",[e("a",{staticStyle:{color:"black"},attrs:{href:"https://github.com/flymestudio",target:"_blank"}},[e("Icon",{attrs:{type:"social-github",size:"16"}}),this._v("\n        FlymeStudio\n      ")],1)])],1)],1)},staticRenderFns:[]};var c=a("VU/8")({name:"component-footer"},r,!1,function(t){a("Lalb")},"data-v-ad801a96",null).exports,l=function(){return"http://localhost:8080/FlymeStudio/"},m=function(){return"/Account/login"},d=function(){return"/Account/register"},u=function(){return"/Account/logout"},p=function(){return"/Information/info"},f=function(){return"/Information/message"},v=function(){return"/Teamwork/team/all"},h=function(){return"/Teamwork/teams/my"},g=function(){return"/Teamwork/user/all"},y=function(){return"/Teamwork/user/all"},_=function(){return"/Teamwork/team/my"},C=function(){return"/Teamwork/projects/member"},b=function(){return"/Teamwork/permission/member"},I=function(){return"/Teamwork/team/member"},w=function(){return"/Teamwork/teams/all"},k=function(){return"/Teamwork/team/all"},T=function(){return"/Teamwork/team/my"},x=function(){return"/Project/projects/all"},S=function(){return"/Project/project/my"},P=function(){return"/Project/project/my"},N=function(){return"/Project/project/my"},$=a("mtWM"),M=a.n($),z=a("mw3O"),F=a.n(z),j=function(t,e){var a=F.a.stringify({user:t,password:e});return M()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:m(),baseURL:l(),data:a,timeout:5e3,withCredentials:!1})},R=function(t,e,a,s,i){var n=F.a.stringify({num:t.trim(),name:e.trim(),tel:a.trim(),email:s.trim(),password:i.trim()});return M()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:d(),baseURL:l(),data:n,timeout:5e3,withCredentials:!1})},D=function(t){var e=F.a.stringify({id:t});return M()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:u(),baseURL:l(),data:e,timeout:5e3,withCredentials:!1})},L={name:"signIn",data:function(){return{formItem:{user:"",password:""},ruleItem:{user:[{required:!0,message:"Please fill in the account.",trigger:"blur"}],password:[{required:!0,message:"Please fill in the password.",trigger:"blur"}]},loading:!1}},components:{componentFooter:c},methods:{clickTopNav:function(t){switch(t){case"0-1":this.clickRegister();break;case"0-2":this.clickRetrieve()}},clickFlyme:function(){window.open("https://www.flyme.cn/")},clickRegister:function(){this.$router.push("/signUp")},clickRetrieve:function(){this.$router.push("/retrieve")},signIn:function(){this.loading=!0;var t=this;j(this.formItem.user,this.formItem.password).then(function(e){if(200===e.status)if(!0===e.data.result){var a=e.data.data;t.$store.dispatch("doSignIn",a),t.$Notice.success({title:"Sign in successful.",desc:""}),t.$router.push("/home")}else t.$Notice.error({title:"Sign in failed.",desc:""});else t.$Notice.error({title:"HTTP request error.",desc:""});t.loading=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),console.log(e),t.loading=!1})},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.signIn():e.$Notice.error({title:"Information is incorrect.",desc:""})})},handleReset:function(t){this.$refs[t].resetFields()}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",{staticClass:"header"},[a("Menu",{staticClass:"menu",attrs:{mode:"horizontal",theme:"dark"},on:{"on-select":t.clickTopNav}},[a("div",{staticClass:"layout-logo",on:{click:t.clickFlyme}}),t._v(" "),a("div",{staticClass:"layout-title"},[t._v("Flyme Studio")]),t._v(" "),a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"0-1"}},[a("Icon",{staticClass:"item-icon",attrs:{type:"person-add",size:"18"}}),t._v("\n          Sign up\n          ")],1),t._v(" "),a("MenuItem",{attrs:{name:"0-2"}},[a("Icon",{attrs:{type:"unlocked",size:"18"}}),t._v("\n          Retrieve\n          ")],1)],1)])],1),t._v(" "),a("Content",{staticClass:"content"},[a("Form",{ref:"formItem",staticClass:"form",attrs:{model:t.formItem,rules:t.ruleItem}},[a("FormItem",{staticClass:"form-item",attrs:{prop:"user"}},[a("Input",{attrs:{type:"text",placeholder:"Account",size:"large",clearable:""},model:{value:t.formItem.user,callback:function(e){t.$set(t.formItem,"user",e)},expression:"formItem.user"}},[a("Icon",{attrs:{slot:"prepend",type:"person",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"Password",size:"large",clearable:""},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}},[a("Icon",{attrs:{slot:"prepend",type:"android-lock",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item-btn"},[a("Button",{staticClass:"btn-item",staticStyle:{"margin-right":"15px"},attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("Sign in")]),t._v(" "),a("Button",{staticClass:"btn-item",staticStyle:{"margin-left":"15px"},on:{click:function(e){t.handleReset("formItem")}}},[t._v("Reset")])],1)],1)],1),t._v(" "),a("componentFooter")],1)],1)},staticRenderFns:[]};var H=a("VU/8")(L,A,!1,function(t){a("Ti/L")},"data-v-2f6b0fd6",null).exports,U={name:"signUp",data:function(){return{isResultView:!1,formItem:{num:"",name:"",tel:"",email:"",password:"",confirm:""},ruleItem:{num:[{required:!0,message:"Please fill in the staff number.",trigger:"blur"},{pattern:/^[0-9]{1,8}$/,message:"Staff number should be a number and no more than 8 bits.",trigger:"blur"}],name:[{required:!0,message:"The name cannot be empty.",trigger:"blur"},{type:"string",pattern:/^[\u4E00-\u9FA5]{2,4}$/,message:"Illegal name.",trigger:"blur"}],tel:[{required:!0,message:"Please fill in the phone number.",trigger:"blur"},{pattern:/^[0-9]{11}$/,message:"Phone number is 11 bits.",trigger:"blur"},{pattern:/^(13[0-9]{9})|(14[0-9]{9})|(15[0-9]{9})|(17[0-9]{9})|(18[0-9]{9})$/,message:"Incorrect phone number format.",trigger:"blur"}],email:[{required:!0,message:"Please fill in the email.",trigger:"blur"},{type:"email",message:"Incorrect email format."}],password:[{required:!0,message:"Please fill in the password.",trigger:"blur"},{type:"string",min:6,message:"The password should be not less than 6 bits.",trigger:"blur"}],confirm:[{required:!0,message:"Please fill in the confirm.",trigger:"blur"}]},loading:!1}},components:{componentFooter:c},methods:{clickTopNav:function(t){switch(t){case"0-1":this.clickSignIn();break;case"0-2":this.clickRetrieve()}},clickFlyme:function(){window.open("https://www.flyme.cn/")},clickSignIn:function(){this.$router.push("/signIn")},clickRetrieve:function(){this.$router.push("/retrieve")},signUp:function(){this.loading=!0;var t=this;R(this.formItem.num,this.formItem.name,this.formItem.tel,this.formItem.email,this.formItem.password).then(function(e){200===e.status?!0===e.data.result?(t.$Notice.success({title:"Sign up successful.",desc:""}),t.isResultView=!0):(t.$Notice.error({title:"Sign up failed.",desc:""}),t.isResultView=!1):(t.$Notice.error({title:"HTTP request error.",desc:""}),t.isResultView=!1),t.loading=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),console.log(e),t.loading=!1})},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.formItem.password===e.formItem.confirm?e.signUp():(e.$Notice.error({title:"Please reconfirm password.",desc:""}),e.formItem.confirm=""):e.$Notice.error({title:"Information is incorrect.",desc:""})})},handleReset:function(t){this.$refs[t].resetFields()}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",{staticClass:"header"},[a("Menu",{staticClass:"menu",attrs:{mode:"horizontal",theme:"dark"},on:{"on-select":t.clickTopNav}},[a("div",{staticClass:"layout-logo",on:{click:t.clickFlyme}}),t._v(" "),a("div",{staticClass:"layout-title"},[t._v("Flyme Studio")]),t._v(" "),a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"0-1"}},[a("Icon",{attrs:{type:"log-in",size:"18"}}),t._v("\n          Sign in\n          ")],1),t._v(" "),a("MenuItem",{attrs:{name:"0-2"}},[a("Icon",{attrs:{type:"unlocked",size:"18"}}),t._v("\n          Retrieve\n          ")],1)],1)])],1),t._v(" "),a("Content",{staticClass:"content"},[a("Form",{directives:[{name:"show",rawName:"v-show",value:0==t.isResultView,expression:"isResultView == false"}],ref:"formItem",staticClass:"form",attrs:{model:t.formItem,rules:t.ruleItem}},[a("FormItem",{staticClass:"form-item",attrs:{prop:"num"}},[a("Input",{attrs:{type:"text",placeholder:"Staff number",size:"large",clearable:""},model:{value:t.formItem.num,callback:function(e){t.$set(t.formItem,"num",e)},expression:"formItem.num"}},[a("Icon",{attrs:{slot:"prepend",type:"pound",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"name"}},[a("Input",{attrs:{type:"text",placeholder:"User name",size:"large",clearable:""},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}},[a("Icon",{attrs:{slot:"prepend",type:"person",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"tel"}},[a("Input",{attrs:{type:"text",placeholder:"Phone number",size:"large",clearable:""},model:{value:t.formItem.tel,callback:function(e){t.$set(t.formItem,"tel",e)},expression:"formItem.tel"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-telephone",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"email"}},[a("Input",{attrs:{type:"text",placeholder:"Email",size:"large",clearable:""},model:{value:t.formItem.email,callback:function(e){t.$set(t.formItem,"email",e)},expression:"formItem.email"}},[a("Icon",{attrs:{slot:"prepend",type:"email",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"Password",size:"large",clearable:""},model:{value:t.formItem.password,callback:function(e){t.$set(t.formItem,"password",e)},expression:"formItem.password"}},[a("Icon",{attrs:{slot:"prepend",type:"android-lock",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"confirm"}},[a("Input",{attrs:{type:"password",placeholder:"Confirm",size:"large",clearable:""},model:{value:t.formItem.confirm,callback:function(e){t.$set(t.formItem,"confirm",e)},expression:"formItem.confirm"}},[a("Icon",{attrs:{slot:"prepend",type:"checkmark",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item-btn"},[a("Button",{staticClass:"btn-item",staticStyle:{"margin-right":"15px"},attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("Sign up")]),t._v(" "),a("Button",{staticClass:"btn-item",staticStyle:{"margin-left":"15px"},on:{click:function(e){t.handleReset("formItem")}}},[t._v("Reset")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isResultView,expression:"isResultView"}],staticClass:"div-result"},[a("Icon",{staticClass:"icon-result",attrs:{type:"home",size:"35"}}),t._v(" "),a("div",[t._v("Welcome to join "),a("b",[t._v("Flyme Studio")]),t._v("!")])],1)],1),t._v(" "),a("componentFooter")],1)],1)},staticRenderFns:[]};var B=a("VU/8")(U,E,!1,function(t){a("TjOA")},"data-v-014be128",null).exports,q={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"div-msg"},[this._v(this._s(this.message))])},staticRenderFns:[]};var V=a("VU/8")({name:"retrieve",data:function(){return{message:"Please contact with Administrator."}}},q,!1,function(t){a("kWIV")},"data-v-5d8f4399",null).exports,O={name:"component-nav-top",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},spinShow:!1}},methods:{getInfo:function(){this.$store.state.user.active&&null!==this.$store.state.user.userInfo?this.info=this.$store.state.user.userInfo:(this.$Notice.error({title:"Please sign in.",desc:""}),this.$router.push("/")),null!==this.info.name&&""!==this.info.name||(this.info.name="null")},clickTopNav:function(t){switch(t){case"1":this.$router.push("/information/overview");break;case"2":this.clickHelp();break;case"3":this.clickFeedback();break;case"4":this.clickSignOut()}},clickFlyme:function(){window.open("https://www.flyme.cn/")},clickTitle:function(){this.$router.push("/home")},clickFeedback:function(){window.open("https://github.com/FlymeStudio/FlymeStudio-Web/issues")},clickHelp:function(){window.open("https://github.com/FlymeStudio/FlymeStudio-Doc/blob/master/introduce.md")},clickSignOut:function(){this.spinShow=!0;var t=this;D(this.info.id).then(function(e){200===e.status?!0===e.data.result?(t.$store.dispatch("doSignOut"),t.$Message.success("Sign out successful."),setTimeout(function(){t.$router.push("/signIn")},1e3)):t.$Message.error("Sign out failed."):t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1,console.log(e)})}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Menu",{staticClass:"menu",attrs:{mode:"horizontal",theme:"dark"},on:{"on-select":t.clickTopNav}},[a("div",{staticClass:"layout-logo",on:{click:t.clickFlyme}}),t._v(" "),a("div",{staticClass:"layout-title",on:{click:t.clickTitle}},[t._v("Flyme Studio")]),t._v(" "),a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"person",size:"18"}}),t._v(" "),0==t.info.messages.length?a("span",{staticClass:"span-item"},[t._v("\n          "+t._s(t.info.name)+"\n          ")]):a("span",{staticClass:"span-item"},[a("Badge",{attrs:{dot:""}},[t._v(t._s(t.info.name))])],1)],1)]),t._v(" "),a("MenuItem",{attrs:{name:"2"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"help",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("Help")])],1)]),t._v(" "),a("MenuItem",{attrs:{name:"3"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"bug",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("Feedback")])],1)]),t._v(" "),a("MenuItem",{attrs:{name:"4"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"log-out",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("Sign out")])],1)])],1)]),t._v(" "),t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e()],1)},staticRenderFns:[]};var W=a("VU/8")(O,G,!1,function(t){a("8HXG")},"data-v-1a38a018",null).exports,J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Menu",{staticClass:"menu",attrs:{theme:"light",width:"auto","active-name":t.componentId,"open-names":t.openNames},on:{"on-select":t.clickLeftNav}},[a("Submenu",{attrs:{name:"0"}},[a("template",{slot:"title"},[a("Icon",{staticClass:"icon-item",attrs:{type:"person",size:"18"}}),t._v(" "),a("span",{staticClass:"span-menu-item"},[t._v("Information")])],1),t._v(" "),a("MenuItem",{attrs:{name:"1"}},[t._v("Overview")]),t._v(" "),a("MenuItem",{attrs:{name:"2"}},[t._v("Modify")])],2),t._v(" "),a("Submenu",{attrs:{name:"10"}},[a("template",{slot:"title"},[a("Icon",{staticClass:"icon-item",attrs:{type:"ios-people",size:"18"}}),t._v(" "),a("span",{staticClass:"span-menu-item"},[t._v("Teamwork")])],1),t._v(" "),a("MenuItem",{attrs:{name:"11"}},[t._v("Overview")]),t._v(" "),a("MenuItem",{attrs:{name:"12"}},[t._v("Join")]),t._v(" "),a("MenuItem",{attrs:{name:"13"}},[t._v("Create")])],2),t._v(" "),a("Submenu",{attrs:{name:"20"}},[a("template",{slot:"title"},[a("Icon",{staticClass:"icon-item",attrs:{type:"clipboard",size:"18"}}),t._v(" "),a("span",{staticClass:"span-menu-item"},[t._v("Project")])],1),t._v(" "),a("MenuItem",{attrs:{name:"21"}},[t._v("Overview")]),t._v(" "),a("MenuItem",{attrs:{name:"22"}},[t._v("Create")]),t._v(" "),a("MenuItem",{attrs:{name:"23"}},[t._v("Search")])],2),t._v(" "),a("Submenu",{attrs:{name:"30"}},[a("template",{slot:"title"},[a("Icon",{staticClass:"icon-item",attrs:{type:"document-text",size:"18"}}),t._v(" "),a("span",{staticClass:"span-menu-item"},[t._v("Summary")])],1),t._v(" "),a("MenuItem",{attrs:{name:"31"}},[t._v("Overview")]),t._v(" "),a("MenuItem",{attrs:{name:"32"}},[t._v("Create")]),t._v(" "),a("MenuItem",{attrs:{name:"33"}},[t._v("Search")])],2)],1)],1)},staticRenderFns:[]};var Y=a("VU/8")({name:"component-nav-left",created:function(){this.componentId=this.activeName,this.openSubMenu()},props:["activeName"],data:function(){return{componentId:"",openNames:[]}},methods:{openSubMenu:function(){switch(this.componentId){case"1":case"2":this.openNames=["0"];break;case"11":case"12":case"13":this.openNames=["10"];break;case"21":case"22":case"23":this.openNames=["20"];break;case"31":case"32":case"33":this.openNames=["30"];break;default:this.openNames=[]}},clickLeftNav:function(t){switch(t){case"1":this.$router.push("/information/overview");break;case"2":this.$router.push("/information/modify");break;case"11":this.$router.push("/teamwork/overview");break;case"12":this.$router.push("/teamwork/join");break;case"13":this.$router.push("/teamwork/create");break;case"21":this.$router.push("/project/overview");break;case"22":this.$router.push("/project/create");break;case"23":this.$router.push("/project/search");break;case"31":this.$router.push("/summary/overview");break;case"32":this.$router.push("/summary/create");break;case"33":this.$router.push("/summary/search");break;default:this.$router.push("/home")}}}},J,!1,function(t){a("iamz")},"data-v-115998f0",null).exports,Z={name:"home",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]}}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo}}},Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout"},[e("Layout",[e("Header",[e("componentNavTop")],1),this._v(" "),e("Layout",[e("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[e("componentNavLeft",{attrs:{activeName:""}})],1),this._v(" "),e("Layout",{style:{padding:"0 24px"}},[e("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[e("Alert",{attrs:{"show-icon":""}},[e("Icon",{attrs:{slot:"icon",type:"plane"},slot:"icon"}),this._v(" "),e("template",{slot:"desc"},[e("div",{staticClass:"div-content"},[this._v("\n                Make work more efficient\n              ")])])],2)],1)],1)],1),this._v(" "),e("componentFooter"),this._v(" "),e("BackTop")],1)],1)},staticRenderFns:[]};var X=a("VU/8")(Z,Q,!1,function(t){a("pi9I")},"data-v-f6671030",null).exports,K=function(t){var e=v()+"?id="+t;return M()({method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:e,baseURL:l(),timeout:5e3,withCredentials:!1})},tt=function(t){var e=h()+"?user="+t;return M()({method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:e,baseURL:l(),timeout:5e3,withCredentials:!1})},et=function(t){var e=g()+"?content="+t.trim();return M()({method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:e,baseURL:l(),timeout:5e3,withCredentials:!1})},at=function(t,e,a){var s=F.a.stringify({sender:t,receiver:e,id:a});return M()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:y(),baseURL:l(),data:s,timeout:5e3,withCredentials:!1})},st=function(t,e){var a=_()+"?id="+t+"&user="+e;return M()({method:"delete",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:a,baseURL:l(),timeout:5e3,withCredentials:!1})},it=function(t){var e=C()+"?user="+t;return M()({method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:e,baseURL:l(),timeout:5e3,withCredentials:!1})},nt=function(t,e,a){var s=F.a.stringify({id:t,user:e,permission:a});return M()({method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:b(),baseURL:l(),data:s,timeout:5e3,withCredentials:!1})},ot=function(t,e){var a=I()+"?id="+t+"&user="+e;return M()({method:"delete",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:a,baseURL:l(),timeout:5e3,withCredentials:!1})},rt=function(t){var e=w()+"?content="+t.trim();return M()({method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:e,baseURL:l(),timeout:5e3,withCredentials:!1})},ct=function(t,e){var a=F.a.stringify({sender:t,id:e});return M()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:k(),baseURL:l(),data:a,timeout:5e3,withCredentials:!1})},lt=function(t,e){var a=F.a.stringify({user:t,name:e.trim()});return M()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:T(),baseURL:l(),data:a,timeout:5e3,withCredentials:!1})},mt=function(t,e,a,s,i){var n=F.a.stringify({id:t,name:e.trim(),tel:a.trim(),email:s.trim(),password:i.trim()});return M()({method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:p(),baseURL:l(),data:n,timeout:5e3,withCredentials:!1})},dt=function(t,e){var a=F.a.stringify({id:t,result:e});return M()({method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:f(),baseURL:l(),data:a,timeout:5e3,withCredentials:!1})},ut={name:"information-overview",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},spinShow:!1,team:{teamId:"",teamName:"",count:0,administratorName:"",administratorNum:""},modalTeam:!1,modalAgreement:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},clickTeam:function(t,e){this.spinShow=!0,this.team.teamName=t,this.team.teamId=e;var a=this;K(e).then(function(t){200===t.status?!0===t.data.result?(a.team.count=t.data.data.count,a.team.administratorName=t.data.data.administratorName,a.team.administratorNum=t.data.data.administratorNum,a.modalTeam=!0):a.$Notice.error({title:"Get team information failed.",desc:""}):a.$Notice.error({title:"HTTP request error.",desc:""}),a.spinShow=!1}).catch(function(t){a.$Notice.error({title:"HTTP request error.",desc:""}),a.spinShow=!1,console.log(t)})},reply:function(t,e){this.spinShow=!0;var a=this;dt(t,e).then(function(e){200===e.status?!0===e.data.result?setTimeout(function(){a.$store.dispatch("doDeleteMsg",t),a.info=a.$store.state.user.userInfo,a.$Notice.success({title:"Reply successful.",desc:""})},1e3):setTimeout(function(){a.$Notice.error({title:"Reply failed.",desc:""})},1e3):a.$Notice.error({title:"HTTP request error.",desc:""}),a.spinShow=!1}).catch(function(t){a.$Notice.error({title:"HTTP request error.",desc:""}),a.spinShow=!1,console.log(t)})}}},pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"1"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"pound",size:"25"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.info.num))])],1)]),t._v(" "),a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"person",size:"25"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.info.name))])],1)]),t._v(" "),a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"ios-telephone",size:"25"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.info.tel))])],1)]),t._v(" "),a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"email",size:"25"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.info.email))])],1)]),t._v(" "),t._l(t.info.messages,function(e){return a("Alert",{key:e.messageId,staticClass:"alert-message",attrs:{"show-icon":""}},[a("Icon",{staticClass:"icon-item",attrs:{slot:"icon",type:"ios-people",size:"25"},slot:"icon"}),t._v(" "),a("Button",{staticClass:"btn-user"},[t._v(t._s(e.senderName)+"("+t._s(e.senderNum)+")")]),t._v(" "),1==e.type?a("span",[t._v(" invited you to join ")]):2==e.type?a("span",[t._v(" applied to join ")]):t._e(),t._v(" "),1==e.type?a("Button",{staticClass:"btn-team",on:{click:function(a){t.clickTeam(e.teamName,e.teamId)}}},[t._v(t._s(e.teamName))]):2==e.type?a("Button",{staticClass:"btn-apply",on:{click:function(a){t.clickTeam(e.teamName,e.teamId)}}},[t._v(t._s(e.teamName))]):t._e(),t._v(" "),a("template",{slot:"desc"},[a("div",{staticClass:"div-message"},[a("Button",{staticClass:"btn-message",attrs:{type:"success"},on:{click:function(a){t.reply(e.messageId,!0)}}},[t._v("Accept")]),t._v(" "),a("Button",{staticClass:"btn-message",attrs:{type:"error"},on:{click:function(a){t.reply(e.messageId,!1)}}},[t._v("Refuse")]),t._v(" "),1==e.type?a("div",{staticClass:"div-agreement",on:{click:function(e){t.modalAgreement=!0}}},[a("i",[t._v("Agreenment")])]):t._e()],1)])],2)}),t._v(" "),a("Modal",{staticClass:"modal",attrs:{closable:!1,"mask-closable":!1,title:"Team","ok-text":"Ok","cancel-text":"Cancel"},model:{value:t.modalTeam,callback:function(e){t.modalTeam=e},expression:"modalTeam"}},[a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"pound",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.team.teamId))])],1)]),t._v(" "),a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"ios-people",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.team.teamName))])],1)]),t._v(" "),a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"star",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.team.administratorName)+"("+t._s(t.team.administratorNum)+")")])],1)]),t._v(" "),a("Alert",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"chatbubbles",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.team.count))])],1)])],1),t._v(" "),a("Modal",{staticClass:"modal",attrs:{width:"80%",closable:!1,"mask-closable":!1,title:"Agreement","ok-text":"Ok","cancel-text":"Cancel"},model:{value:t.modalAgreement,callback:function(e){t.modalAgreement=e},expression:"modalAgreement"}},[a("Alert",{staticStyle:{color:"red"},attrs:{type:"warning"}},[a("template",{slot:"desc"},[a("ol",[a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("After joining a team, you will become the member of the team.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("As the member of the team, the team manager can view your all projects and summaries.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Manager can export a report about your projects or summaries.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Manager has right to remove you from the team.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Administrator has right to disband the team.")])])])])],2)],1)],2)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var ft=a("VU/8")(ut,pt,!1,function(t){a("zMcO")},"data-v-136b4cbd",null).exports,vt={name:"information-modify",created:function(){this.getInfo()},data:function(){return{password:"",info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},formItem:{name:"",tel:"",email:"",newPassword:"",confirm:""},ruleItem:{name:[{message:"The name cannot be empty.",trigger:"blur"},{type:"string",pattern:/^[\u4E00-\u9FA5]{2,4}$/,message:"Illegal name.",trigger:"blur"}],tel:[{message:"Please fill in the phone number.",trigger:"blur"},{pattern:/^[0-9]{11}$/,message:"Phone number is 11 bits.",trigger:"blur"},{pattern:/^(13[0-9]{9})|(14[0-9]{9})|(15[0-9]{9})|(17[0-9]{9})|(18[0-9]{9})$/,message:"Incorrect phone number format.",trigger:"blur"}],email:[{message:"Please fill in the email.",trigger:"blur"},{type:"email",message:"Incorrect email format."}],newPassword:[{message:"Please fill in the password.",trigger:"blur"},{type:"string",min:6,message:"The password should be no less than 6 bits.",trigger:"blur"}],confirm:[{message:"Please fill in the confirm.",trigger:"blur"}]},modalModify:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},modify:function(){var t=this;if(this.info.password!==this.password)return this.$Notice.error({title:"Password is incorrect.",desc:""}),void setTimeout(function(){t.password="",t.modalModify=!1},1e3);""===this.formItem.name&&(this.formItem.name=this.info.name),""===this.formItem.tel&&(this.formItem.tel=this.info.tel),""===this.formItem.email&&(this.formItem.email=this.info.email),""===this.formItem.newPassword&&(this.formItem.newPassword=this.info.password),mt(this.info.id,this.formItem.name,this.formItem.tel,this.formItem.email,this.formItem.newPassword).then(function(e){200===e.status?!0===e.data.result?(t.info.name=t.formItem.name,t.info.tel=t.formItem.tel,t.info.email=t.formItem.email,t.info.password=t.formItem.password,t.$store.dispatch("doUpdate",t.info),t.getInfo(),t.handleReset("formItem"),t.$Notice.success({title:"Modify successful.",desc:""})):t.$Notice.error({title:"Modify failed.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.modalModify=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.modalModify=!1,console.log(e)})},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.formItem.newPassword===e.formItem.confirm?e.modalModify=!0:(e.$Notice.error({title:"Please reconfirm password.",desc:""}),e.formItem.confirm=""):e.$Notice.error({title:"Information is incorrect.",desc:""})})},handleReset:function(t){this.$refs[t].resetFields()}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"2"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[a("Form",{ref:"formItem",staticClass:"form",attrs:{model:t.formItem,rules:t.ruleItem}},[a("Alert",{attrs:{type:"info"}},[a("FormItem",{staticClass:"form-item"},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",staticStyle:{margin:"auto 10px"},attrs:{type:"person",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.info.name))])],1)]),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"name"}},[a("Input",{attrs:{type:"text",size:"large",placeholder:"New name",clearable:""},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}},[a("Icon",{staticClass:"icon-item",attrs:{slot:"prepend",type:"edit",size:"18"},slot:"prepend"})],1)],1)],1),t._v(" "),a("Alert",{attrs:{type:"info"}},[a("FormItem",{staticClass:"form-item"},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",staticStyle:{margin:"auto 10px"},attrs:{type:"ios-telephone",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.info.tel))])],1)]),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"tel"}},[a("Input",{attrs:{type:"text",size:"large",placeholder:"New tel",clearable:""},model:{value:t.formItem.tel,callback:function(e){t.$set(t.formItem,"tel",e)},expression:"formItem.tel"}},[a("Icon",{staticClass:"icon-item",attrs:{slot:"prepend",type:"edit",size:"18"},slot:"prepend"})],1)],1)],1),t._v(" "),a("Alert",{attrs:{type:"info"}},[a("FormItem",{staticClass:"form-item"},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",staticStyle:{margin:"auto 10px"},attrs:{type:"email",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.info.email))])],1)]),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"email"}},[a("Input",{attrs:{type:"text",size:"large",placeholder:"New email",clearable:""},model:{value:t.formItem.email,callback:function(e){t.$set(t.formItem,"email",e)},expression:"formItem.email"}},[a("Icon",{staticClass:"icon-item",attrs:{slot:"prepend",type:"edit",size:"18"},slot:"prepend"})],1)],1)],1),t._v(" "),a("Alert",{attrs:{type:"info"}},[a("FormItem",{staticClass:"form-item",attrs:{prop:"newPassword"}},[a("Input",{attrs:{type:"password",size:"large",placeholder:"New password",clearable:""},model:{value:t.formItem.newPassword,callback:function(e){t.$set(t.formItem,"newPassword",e)},expression:"formItem.newPassword"}},[a("Icon",{staticClass:"icon-item",attrs:{slot:"prepend",type:"android-lock",size:"18"},slot:"prepend"})],1)],1),t._v(" "),a("FormItem",{staticClass:"form-item",attrs:{prop:"confirm"}},[""==t.formItem.newPassword?a("div",[a("Input",{attrs:{type:"password",size:"large",placeholder:"Confirm",disabled:""},model:{value:t.formItem.confirm,callback:function(e){t.$set(t.formItem,"confirm",e)},expression:"formItem.confirm"}},[a("Icon",{staticClass:"icon-item",attrs:{slot:"prepend",type:"checkmark",size:"18"},slot:"prepend"})],1)],1):a("div",[a("Input",{attrs:{type:"password",size:"large",placeholder:"Confirm",clearable:""},model:{value:t.formItem.confirm,callback:function(e){t.$set(t.formItem,"confirm",e)},expression:"formItem.confirm"}},[a("Icon",{staticClass:"icon-item",attrs:{slot:"prepend",type:"checkmark",size:"18"},slot:"prepend"})],1)],1)])],1),t._v(" "),a("FormItem",{staticClass:"form-item-btn"},[a("Button",{staticClass:"btn-item",staticStyle:{"margin-right":"15px"},attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("Submit")]),t._v(" "),a("Button",{staticClass:"btn-item",staticStyle:{"margin-left":"15px"},on:{click:function(e){t.handleReset("formItem")}}},[t._v("Reset")])],1)],1),t._v(" "),a("Modal",{staticClass:"modal-confirm",attrs:{title:"Confirm","mask-closable":!1,closable:!1,"ok-text":"Modify","cancel-text":"Cancel",loading:""},on:{"on-ok":function(e){t.modify()}},model:{value:t.modalModify,callback:function(e){t.modalModify=e},expression:"modalModify"}},[a("p",[t._v("Input the password to check your identity:")]),t._v(" "),a("Input",{staticStyle:{"margin-top":"20px"},attrs:{type:"password",size:"large",placeholder:"Password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var gt=a("VU/8")(vt,ht,!1,function(t){a("tcOL")},"data-v-4aada122",null).exports,yt={props:{row:Object},data:function(){return{subfieldDetail:!1,defaultOpenDetail:"preview",toolbarsFlagDetail:!1}}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{staticClass:"expand-row"},[a("div",{staticClass:"expand-key"},[t._v("Content")]),t._v(" "),a("mavon-editor",{staticClass:"detail-content",attrs:{subfield:t.subfieldDetail,defaultOpen:t.defaultOpenDetail,toolbarsFlag:t.toolbarsFlagDetail},model:{value:t.row.content,callback:function(e){t.$set(t.row,"content",e)},expression:"row.content"}})],1),t._v(" "),a("Row",[a("div",{staticClass:"expand-key"},[t._v("Plans")]),t._v(" "),a("div",{staticClass:"div-plans"},t._l(t.row.plans,function(e){return a("Alert",{key:e.id,staticClass:"alert-plans"},[100==e.percent?a("Progress",{staticClass:"detail-progress",attrs:{percent:100,"stroke-width":18}}):a("Progress",{staticClass:"detail-progress",attrs:{percent:e.percent,"stroke-width":18,status:"active"}}),t._v(" "),a("div",{staticClass:"div-plan"},[a("Tag",{staticClass:"tag-tag",attrs:{type:"dot",color:"blue"}},[t._v(t._s(e.tag))]),t._v(" "),a("Input",{staticClass:"input-goal",attrs:{type:"text",readonly:!0},model:{value:e.goal,callback:function(a){t.$set(e,"goal",a)},expression:"item.goal"}})],1)],1)}))])],1)},staticRenderFns:[]};var Ct=a("VU/8")(yt,_t,!1,function(t){a("f9DA")},"data-v-2c8f7434",null).exports,bt={name:"export-projects",created:function(){this.getInfo()},props:["type","teamRes"],data:function(){var t=this;return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},teamType:this.type,teamData:this.teamRes,modalExport:!1,spinExport:!1,selectMemberId:"",columnsResource:[{type:"expand",width:50,render:function(t,e){return t(Ct,{props:{row:e.row}})}},{type:"index",width:60,align:"center"},{title:"Name",width:80,align:"center",key:"name"},{title:"Type",width:100,align:"center",key:"type",render:function(e,a){return e("div",t.formatType(a.row.type))},filters:[{label:"1. Yearly",value:"1"},{label:"2. Monthly",value:"2"},{label:"3. Weekly",value:"3"},{label:"4. Daily",value:"4"}],filterMethod:function(t,e){return e.type===t}},{title:"Percent",width:120,align:"center",key:"percent",render:function(t,e){var a=e.row;return t("Tag",{props:{type:"dot",color:100===a.percent?"green":"red"},style:{width:"70px"}},a.percent)},filters:[{label:"Done",value:1},{label:"Doing",value:0}],filterMethod:function(t,e){return 1===t&&100===e.percent||0===t&&100!==e.percent}},{title:"Date",width:120,align:"center",key:"date"},{title:"Title",align:"center",key:"title"},{title:"Add",key:"action",width:100,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"success",size:"small"},on:{click:function(){t.add(a.index)}}},"Add")])}}],dataResource:[],columnsChoose:[{type:"expand",width:50,render:function(t,e){return t(Ct,{props:{row:e.row}})}},{type:"index",width:60,align:"center"},{title:"Name",width:80,align:"center",key:"name"},{title:"Type",width:100,align:"center",key:"type",render:function(e,a){return e("div",t.formatType(a.row.type))}},{title:"Percent",width:120,align:"center",key:"percent",render:function(t,e){var a=e.row;return t("Tag",{props:{type:"dot",color:100===a.percent?"green":"red"},style:{width:"70px"}},a.percent)}},{title:"Date",width:120,align:"center",key:"date"},{title:"Title",align:"center",key:"title"},{title:"Delete",key:"action",width:100,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(a.index)}}},"Delete")])}}],dataChoose:[],columnsExport:[{title:"Name",key:"name"},{title:"Percent",key:"percent"},{title:"Date",key:"date"},{title:"Title",key:"title"},{title:"Plans",key:"plans"}],dataExport:[]}},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},exportProjects:function(){this.modalExport=!0},search:function(){if(""!==this.selectMemberId){this.spinExport=!0;var t=this;it(this.selectMemberId).then(function(e){if(200===e.status)if(!0===e.data.result){t.dataResource=e.data.data;for(var a=0;a<t.dataResource.length;a++)t.dataResource[a].date=t.formatDate(new Date(t.dataResource[a].date));t.computePercent(t.selectMemberId)}else t.$Notice.error({title:"Failed to get data.",desc:""});else t.$Notice.error({title:"HTTP request error.",desc:""});t.spinExport=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinExport=!1,console.log(e)})}else this.$Notice.error({title:"Please select a member.",desc:""})},computePercent:function(t){if(null!==this.dataResource){for(var e="",a=0;a<this.teamData.members.length;a++)if(this.teamData.members[a].id===t){e=this.teamData.members[a].name;break}for(var s=0;s<this.dataResource.length;s++)if(this.dataResource[s].name=e,0===this.dataResource[s].plans.length)this.dataResource[s].percent=0;else{for(var i=0,n=0;n<this.dataResource[s].plans.length;n++)i+=this.dataResource[s].plans[n].percent;this.dataResource[s].percent=Math.round(i/this.dataResource[s].plans.length)}}},clearResource:function(){this.selectMemberId="",this.dataResource=[]},clearAll:function(){this.selectMemberId="",this.dataResource=[],this.dataChoose=[],this.dataExport=[]},formatType:function(t){switch(t){case"1":return"Yearly";case"2":return"Monthly";case"3":return"Weekly";case"4":return"Daily";default:return"Unknow"}},formatDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var s=t.getDate();return e+"-"+a+"-"+(s=s<10?"0"+s:s)},add:function(t){for(var e=this.dataResource[t].id,a=0;a<this.dataChoose.length;a++)if(this.dataChoose[a].id===e)return;this.dataChoose.push(this.dataResource[t])},remove:function(t){this.dataChoose.splice(t,1)},exportCsv:function(){var t=this;if(0===this.dataChoose.length)this.$Notice.error({title:"No data to export.",desc:""});else{this.spinExport=!0,this.dataExport=[];for(var e=0;e<this.dataChoose.length;e++){for(var a="",s=0;s<this.dataChoose[e].plans.length;s++)a=a+"("+this.dataChoose[e].plans[s].percent+") ["+this.dataChoose[e].plans[s].tag+"] "+this.dataChoose[e].plans[s].goal+"; \n\t\t\t\t";var i={name:this.dataChoose[e].name,date:this.dataChoose[e].date,percent:this.dataChoose[e].percent,title:this.dataChoose[e].title,plans:a};this.dataExport.push(i)}var n=this;setTimeout(function(){n.spinExport=!1,n.$refs.table.exportCsv({filename:n.teamData.name+"("+t.formatDate(new Date)+")",columns:n.columnsExport,data:n.dataExport})},1e3)}}}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[1==t.teamType?a("Button",{staticClass:"btn-team",attrs:{type:"primary",shape:"circle",icon:"archive"},on:{click:function(e){t.exportProjects()}}}):a("Button",{staticClass:"btn-team",attrs:{type:"primary",shape:"circle",icon:"archive",disabled:""}}),t._v(" "),a("Modal",{staticClass:"modal",attrs:{"class-name":"vertical-center-modal",width:"90%",closable:!0,"mask-closable":!1,"ok-text":"Ok","cancel-text":"Cancel"},on:{"on-ok":function(e){t.clearAll()},"on-cancel":function(e){t.clearAll()}},model:{value:t.modalExport,callback:function(e){t.modalExport=e},expression:"modalExport"}},[a("p",{staticClass:"p-title",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.teamData.name))])]),t._v(" "),a("Layout",[t.spinExport?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("div",[a("span",{staticClass:"span-title"},[t._v("Resource")]),t._v(" "),a("div",{staticClass:"div-resource"},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"Select member"},model:{value:t.selectMemberId,callback:function(e){t.selectMemberId=e},expression:"selectMemberId"}},t._l(t.teamData.members,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+"("+t._s(e.num)+")")])})),t._v(" "),a("Button",{staticClass:"btn",attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:function(e){t.search()}}},[t._v("Search")]),t._v(" "),a("Button",{staticClass:"btn",attrs:{type:"info",shape:"circle",icon:"android-close"},on:{click:function(e){t.clearResource()}}},[t._v("Clear")])],1),t._v(" "),a("Table",{staticClass:"table-resource",attrs:{height:"300","highlight-row":"",border:"",columns:t.columnsResource,data:t.dataResource,size:"small","no-data-text":"No data","no-filtered-data-text":"No filtered data"}})],1),t._v(" "),a("div",{staticClass:"div-export"},[a("span",{staticClass:"span-title"},[t._v("Export")]),t._v(" "),a("Table",{ref:"table",staticClass:"table-export",attrs:{height:"300","highlight-row":"",border:"",columns:t.columnsChoose,data:t.dataChoose,size:"small","no-data-text":"No data"}}),t._v(" "),a("Button",{attrs:{type:"primary",icon:"archive"},on:{click:function(e){t.exportCsv()}}},[t._v("Export")])],1)],1)],1)],1)},staticRenderFns:[]};var wt={name:"component-invite",created:function(){this.getInfo()},props:["dataId","dataName"],data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},inviteTeam:{teamId:this.dataId,teamName:this.dataName},searchContent:"",currentInvite:{},columnsUser:[{type:"index",width:60,align:"center"},{title:"Num",key:"num"},{title:"Name",key:"name"}],dataUser:[],spinInvite:!1,modalInvite:!1}},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},search:function(){if(!/^([a-zA-Z0-9\u4e00-\u9fa5\s]){2,10}$/.test(this.searchContent))return this.$Notice.error({title:"Please input content.",desc:""}),void(this.searchContent="");this.spinInvite=!0;var t=this;et(this.searchContent).then(function(e){200===e.status?!0===e.data.result?t.dataUser=e.data.data:t.$Notice.error({title:"Search failed.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinInvite=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinInvite=!1,console.log(e)})},changeSelection:function(t,e){this.currentInvite=t},clear:function(){this.searchContent="",this.dataUser=[]},invitePeople:function(){this.spinInvite=!0;var t=this;at(this.info.id,this.currentInvite.id,this.inviteTeam.teamId).then(function(e){200===e.status?!0===e.data.result?t.$Notice.success({title:"Send message successful.",desc:"Please waitting for user to check."}):t.$Notice.error({title:"Invite failed.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinInvite=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinInvite=!1,console.log(e)})}}},kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{staticClass:"btn-team",attrs:{type:"info",shape:"circle",icon:"android-person-add"},on:{click:function(e){t.modalInvite=!0}}}),t._v(" "),a("Modal",{staticClass:"modal",attrs:{"class-name":"vertical-center-modal",width:"90%",closable:!0,"mask-closable":!1,"ok-text":"Ok","cancel-text":"Cancel"},on:{"on-ok":function(e){t.clear()},"on-cancel":function(e){t.clear()}},model:{value:t.modalInvite,callback:function(e){t.modalInvite=e},expression:"modalInvite"}},[a("Layout",[t.spinInvite?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("div",{staticClass:"div-invite"},[a("div",{staticClass:"div-invite-title"},[t._v("Invite user to join "+t._s(t.inviteTeam.teamName)+"("+t._s(t.inviteTeam.teamId)+"):")]),t._v(" "),a("Input",{staticClass:"input-invite",attrs:{placeholder:"Num | Tel | Name | Email",clearable:""},model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}}),t._v(" "),a("Button",{staticClass:"btn",attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:function(e){t.search()}}},[t._v("Search")]),t._v(" "),a("Button",{staticClass:"btn",attrs:{type:"info",shape:"circle",icon:"android-close"},on:{click:function(e){t.clear()}}},[t._v("Clear")]),t._v(" "),a("Button",{staticClass:"btn",attrs:{type:"success",shape:"circle",icon:"android-add"},on:{click:function(e){t.invitePeople()}}},[t._v("Invite")]),t._v(" "),a("Table",{staticClass:"table-search",attrs:{"highlight-row":"",border:"",columns:t.columnsUser,data:t.dataUser,"no-data-text":"No data"},on:{"on-current-change":t.changeSelection}})],1)],1)],1)],1)},staticRenderFns:[]};var Tt={name:"component-members",created:function(){this.getInfo()},props:["type","teamSrc"],data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},password:"",teamType:this.type,teamData:this.teamSrc,spinShow:!1,currentView:{id:"",name:"",num:""},count:{total:0,done:0,doing:0},spinViewProjects:!1,subfieldProject:!1,defaultOpenProject:"preview",toolbarsFlagProject:!1,activeProjectsTag:"0",collapseProjects:"",currentProjects:[],currentProject:{},currentSummaries:[],currentSummary:{},modalViewProjects:!1,modalViewSummaries:!1,currentPermission:{teamId:"",teamName:"",id:"",name:"",num:"",permission:"0"},modalSetPermission:!1,currentRemove:{teamId:"",id:"",name:"",num:""},modalRemoveMember:!1}},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},viewProjects:function(t,e,a){this.spinShow=!0,this.currentView={id:t,name:e,num:a};var s=this;it(t).then(function(t){if(200===t.status)if(!0===t.data.result){s.currentProjects=t.data.data;for(var e=0;e<s.currentProjects.length;e++)s.currentProjects[e].date=new Date(s.currentProjects[e].date);s.computePercent(),s.clickProjectsTag(s.activeProjectsTag),s.modalViewProjects=!0}else s.$Notice.error({title:"Failed to get data.",desc:""});else s.$Notice.error({title:"HTTP request error.",desc:""});s.spinShow=!1}).catch(function(t){s.$Notice.error({title:"HTTP request error.",desc:""}),s.spinShow=!1,console.log(t)})},computePercent:function(){if(null!==this.currentProjects)for(var t=0;t<this.currentProjects.length;t++)if(0===this.currentProjects[t].plans.length)this.currentProjects[t].percent=0;else{for(var e=0,a=0;a<this.currentProjects[t].plans.length;a++)e+=this.currentProjects[t].plans[a].percent;this.currentProjects[t].percent=Math.round(e/this.currentProjects[t].plans.length)}},clickProjectsTag:function(t){this.collapseProjects="",this.spinViewProjects=!0,this.activeProjectsTag=t;var e=0,a=0,s=0;if(null!==this.currentProjects)if("0"===t){e=this.currentProjects.length;for(var i=0;i<this.currentProjects.length;i++)this.currentProjects[i].show=!0,100===this.currentProjects[i].percent?a++:s++}else for(var n=0;n<this.currentProjects.length;n++)this.currentProjects[n].type===t?(e++,this.currentProjects[n].show=!0,100===this.currentProjects[n].percent?a++:s++):this.currentProjects[n].show=!1;this.count={total:e,done:a,doing:s};var o=this;setTimeout(function(){o.spinViewProjects=!1},1e3)},chooseProject:function(t){this.spinViewProjects=!0,this.currentProject=t;var e=this;setTimeout(function(){e.spinViewProjects=!1},1e3)},clearContent:function(){this.clickProjectsTag("0"),this.count={total:0,done:0,doing:0},this.currentProject={}},viewSummaries:function(t,e,a){this.$Message.error("Function is not available.")},setMemberPermission:function(t,e){this.currentPermission={teamId:this.teamData.id,teamName:this.teamData.name,name:t,id:e,permission:0},this.modalSetPermission=!0},setPermission:function(){var t=this;nt(this.currentPermission.teamId,this.currentPermission.id,this.currentPermission.permission).then(function(e){if(200===e.status)if(!0===e.data.result){for(var a=0;a<t.teamData.members.length;a++)if(t.teamData.members[a].id===t.currentPermission.id){t.teamData.members[a].permission=t.currentPermission.permission,t.currentPermission={};break}t.$Notice.success({title:"Set successful.",desc:""})}else t.$Notice.error({title:"Set failed.",desc:""});else t.$Notice.error({title:"HTTP request error.",desc:""});t.modalSetPermission=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.modalSetPermission=!1,console.log(e)})},removeMember:function(t,e){this.currentRemove={teamId:this.teamData.id,teamName:this.teamData.name,name:e,id:t},this.modalRemoveMember=!0},remove:function(){var t=this;if(this.password!==this.info.password)return this.$Notice.error({title:"Password is incorrect.",desc:""}),void setTimeout(function(){t.password="",t.modalRemoveMember=!1},1e3);var e=this;ot(this.currentRemove.teamId,this.currentRemove.id).then(function(t){200===t.status?!0===t.data.result?(e.$Notice.success({title:"Remove successful.",desc:""}),e.currentRemove=[],e.password=""):e.$Notice.error({title:"Remove failed.",desc:""}):e.$Notice.error({title:"HTTP request error.",desc:""}),e.modalRemoveMember=!1}).catch(function(t){e.$Notice.error({title:"HTTP request error.",desc:""}),e.modalRemoveMember=!1,console.log(t)})}}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.teamData.members,function(e){return a("div",{key:e.id,staticClass:"div-member"},[2==e.permission?a("Icon",{staticClass:"icon-member",staticStyle:{color:"#ff9900"},attrs:{type:"person",size:"18"}}):1==e.permission?a("Icon",{staticClass:"icon-member",staticStyle:{color:"#19be6b"},attrs:{type:"person",size:"18"}}):a("Icon",{staticClass:"icon-member",staticStyle:{color:"#2d8cf0"},attrs:{type:"person",size:"18"}}),t._v(" "),a("span",{staticClass:"span-name"},[t._v(t._s(e.name))]),t._v(" "),a("Icon",{staticClass:"icon-member",attrs:{type:"pound",size:"18"}}),t._v(" "),a("span",{staticClass:"span-tel"},[t._v(t._s(e.num))]),t._v(" "),a("div",{staticClass:"btns"},[a("Tooltip",{attrs:{content:"View projects"}},[1==t.teamType?a("Button",{staticClass:"btn-member",attrs:{size:"small",type:"info",shape:"circle",icon:"clipboard"},on:{click:function(a){t.viewProjects(e.id,e.name,e.num)}}}):a("Button",{staticClass:"btn-member",attrs:{size:"small",type:"info",shape:"circle",icon:"clipboard",disabled:""}})],1),t._v(" "),a("Tooltip",{attrs:{content:"View summaries"}},[1==t.teamType?a("Button",{staticClass:"btn-member",attrs:{size:"small",type:"info",shape:"circle",icon:"document-text"},on:{click:function(a){t.viewSummaries(e.id,e.name,e.num)}}}):a("Button",{staticClass:"btn-member",attrs:{size:"small",type:"info",shape:"circle",icon:"document-text",disabled:""}})],1),t._v(" "),a("Tooltip",{attrs:{content:"Set permission"}},[t.teamData.administratorId==t.info.id&&e.id!=t.info.id?a("Button",{staticClass:"btn-member",staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"warning",shape:"circle",icon:"key"},on:{click:function(a){t.setMemberPermission(e.name,e.id)}}}):a("Button",{staticClass:"btn-member",staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"warning",shape:"circle",icon:"key",disabled:""}})],1),t._v(" "),a("Tooltip",{attrs:{content:"Remove member"}},[1==t.teamType&&e.id!=t.info.id&&0==e.permission?a("Button",{staticClass:"btn-member",attrs:{size:"small",type:"error",shape:"circle",icon:"close-round"},on:{click:function(a){t.removeMember(e.id,e.name)}}}):a("Button",{staticClass:"btn-member",attrs:{size:"small",type:"error",shape:"circle",icon:"close-round",disabled:""}})],1)],1)],1)}),t._v(" "),t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Modal",{staticClass:"modal",attrs:{"class-name":"vertical-center-modal",width:"90%",closable:!0,"mask-closable":!1,"ok-text":"Ok","cancel-text":"Cancel"},on:{"on-ok":function(e){t.clearContent()},"on-cancel":function(e){t.clearContent()}},model:{value:t.modalViewProjects,callback:function(e){t.modalViewProjects=e},expression:"modalViewProjects"}},[a("Layout",{staticStyle:{"margin-top":"20px"}},[t.spinViewProjects?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Header",{staticClass:"layout-header-bar",attrs:{theme:"dark"}},[a("Icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"clipboard",size:"18"}}),a("span",[t._v("Project")]),t._v(" "),a("Icon",{staticStyle:{margin:"auto 10px auto 30px"},attrs:{type:"person",size:"18"}}),a("span",[t._v(t._s(t.currentView.name))]),t._v(" "),a("Icon",{staticStyle:{margin:"auto 10px auto 30px"},attrs:{type:"pound",size:"18"}}),a("span",[t._v(t._s(t.currentView.num))])],1),t._v(" "),a("Layout",[a("Sider",{staticStyle:{"z-index":"6"},attrs:{width:"100"}},[a("Menu",{attrs:{theme:"dark",width:"auto","active-name":t.activeProjectsTag},on:{"on-select":t.clickProjectsTag}},[a("MenuItem",{staticClass:"menu-item",attrs:{name:"0"}},[a("span",[t._v("All")])]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"1"}},[a("span",[t._v("Yearly")])]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"2"}},[a("span",[t._v("Monthly")])]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"3"}},[a("span",[t._v("Weekly")])]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"4"}},[a("span",[t._v("Daily")])])],1)],1),t._v(" "),a("Sider",{staticStyle:{background:"#fff"}},[a("Collapse",{model:{value:t.collapseProjects,callback:function(e){t.collapseProjects=e},expression:"collapseProjects"}},[a("Panel",{attrs:{name:"Total"}},[a("span",{staticClass:"data-count",staticStyle:{color:"#2d8cf0"}},[t._v(" Total ("+t._s(t.count.total)+")")]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},t._l(t.currentProjects,function(e){return 1==e.show?a("div",{key:e.id,staticClass:"div-content-title",on:{click:function(a){t.chooseProject(e)}}},[a("Alert",[t._v(t._s(e.title))])],1):t._e()}))]),t._v(" "),a("Panel",{attrs:{name:"Done"}},[a("span",{staticClass:"data-count",staticStyle:{color:"#19be6b"}},[t._v(" Done ("+t._s(t.count.done)+")")]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},t._l(t.currentProjects,function(e){return 1==e.show?a("div",{key:e.id,staticClass:"div-content-title",on:{click:function(a){t.chooseProject(e)}}},[a("Alert",[t._v(t._s(e.title))])],1):t._e()}))]),t._v(" "),a("Panel",{attrs:{name:"Doing"}},[a("span",{staticClass:"data-count",staticStyle:{color:"#ed3f14"}},[t._v(" Doing ("+t._s(t.count.doing)+")")]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},t._l(t.currentProjects,function(e){return 1==e.show?a("div",{key:e.id,staticClass:"div-content-title",on:{click:function(a){t.chooseProject(e)}}},[a("Alert",[t._v(t._s(e.title))])],1):t._e()}))])],1)],1),t._v(" "),a("Content",[null!=t.currentProject&&t.currentProject!={}?a("div",{staticClass:"div-content"},[a("div",{staticClass:"card-top"},[100==t.currentProject.percent?a("i-circle",{staticClass:"card-circle",attrs:{size:40,percent:100,"stroke-color":"#5cb85c","stroke-width":9,"trail-width":9}},[a("Icon",{attrs:{type:"ios-checkmark-empty",size:"50",color:"#5cb85c"}})],1):a("i-circle",{staticClass:"card-circle",staticStyle:{color:"#ed3f14"},attrs:{size:40,percent:t.currentProject.percent,"stroke-color":"#2d8cf0","stroke-width":9,"trail-width":9}},[a("span",[t._v(t._s(t.currentProject.percent)+"%")])]),t._v(" "),a("DatePicker",{staticClass:"card-date",attrs:{type:"date",size:"large",readonly:"",format:"yyyy-MM-dd"},model:{value:t.currentProject.date,callback:function(e){t.$set(t.currentProject,"date",e)},expression:"currentProject.date"}})],1),t._v(" "),a("p",{staticClass:"detail-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.currentProject.title))]),t._v(" "),a("mavon-editor",{staticClass:"detail-content",attrs:{subfield:t.subfieldProject,defaultOpen:t.defaultOpenProject,toolbarsFlag:t.toolbarsFlagProject},model:{value:t.currentProject.content,callback:function(e){t.$set(t.currentProject,"content",e)},expression:"currentProject.content"}}),t._v(" "),a("div",{staticClass:"div-plans"},t._l(t.currentProject.plans,function(e){return a("Alert",{key:e.id,staticClass:"alert-plans"},[100==e.percent?a("Progress",{staticClass:"detail-progress",attrs:{percent:100,"stroke-width":18}}):a("Progress",{staticClass:"detail-progress",attrs:{percent:e.percent,"stroke-width":18,status:"active"}}),t._v(" "),a("div",{staticClass:"div-plan"},[a("Tag",{staticClass:"tag-tag",attrs:{type:"dot",color:"blue"}},[t._v(t._s(e.tag))]),t._v(" "),a("Input",{staticClass:"input-goal",attrs:{type:"text",readonly:!0},model:{value:e.goal,callback:function(a){t.$set(e,"goal",a)},expression:"item.goal"}})],1)],1)}))],1):t._e()])],1)],1)],1),t._v(" "),a("Modal",{model:{value:t.modalViewSummaries,callback:function(e){t.modalViewSummaries=e},expression:"modalViewSummaries"}}),t._v(" "),a("Modal",{staticClass:"modal-permission",attrs:{"class-name":"vertical-center-modal",width:"80%",title:"Setting","mask-closable":!1,closable:!1,"ok-text":"Set","cancel-text":"Cancel",loading:""},on:{"on-ok":function(e){t.setPermission()}},model:{value:t.modalSetPermission,callback:function(e){t.modalSetPermission=e},expression:"modalSetPermission"}},[a("Alert",{staticStyle:{color:"red"},attrs:{type:"info"}},[a("span",{staticClass:"span-permission"},[t._v("Permission")]),t._v(" "),a("template",{slot:"desc"},[a("ol",[a("li",{staticClass:"li-permission"},[a("span",{staticClass:"span-list"},[t._v("Manager can export a report about members' projects or summaries.")])]),t._v(" "),a("li",{staticClass:"li-permission"},[a("span",{staticClass:"span-list"},[t._v("Manager can view members' all projects and summaries.")])]),t._v(" "),a("li",{staticClass:"li-permission"},[a("span",{staticClass:"span-list"},[t._v("Manager has right to remove a member from the team.")])])]),t._v(" "),a("RadioGroup",{model:{value:t.currentPermission.permission,callback:function(e){t.$set(t.currentPermission,"permission",e)},expression:"currentPermission.permission"}},[a("Radio",{staticClass:"radio-permission",attrs:{label:"0"}},[a("span",[t._v("Member")])]),t._v(" "),a("Radio",{staticClass:"radio-permission",attrs:{label:"1"}},[a("span",[t._v("Manager")])])],1)],1)],2),t._v(" "),a("p",[t._v("Are you sure to set permission of "+t._s(t.currentPermission.name)+"("+t._s(t.currentPermission.num)+") in "+t._s(t.currentPermission.teamName)+"?")])],1),t._v(" "),a("Modal",{staticClass:"modal-remove",attrs:{"class-name":"vertical-center-modal",title:"Confirm","mask-closable":!1,closable:!1,"ok-text":"Remove","cancel-text":"Cancel",loading:""},on:{"on-ok":function(e){t.remove()}},model:{value:t.modalRemoveMember,callback:function(e){t.modalRemoveMember=e},expression:"modalRemoveMember"}},[a("Alert",{attrs:{type:"warning","show-icon":""}},[a("p",[t._v("Are you sure to remove "+t._s(t.currentRemove.name)+"("+t._s(t.currentRemove.num)+") from "+t._s(t.currentRemove.teamName)+"("+t._s(t.currentRemove.teamId)+") ?")]),t._v(" "),a("template",{slot:"desc"},[a("p",[t._v("If yes, input the password to check your identity:")]),t._v(" "),a("Input",{staticStyle:{"margin-top":"20px"},attrs:{type:"password",size:"large",placeholder:"Password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],2)],1)],2)},staticRenderFns:[]};var St={name:"component-team",created:function(){this.getInfo()},props:["team","type"],data:function(){return{teamData:this.team,teamType:this.type,info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},password:"",currentDisband:{teamId:"",teamName:""},modalDisband:!1}},components:{componentExportProjects:a("VU/8")(bt,It,!1,function(t){a("8jEQ")},"data-v-6bd9b582",null).exports,componentInvite:a("VU/8")(wt,kt,!1,function(t){a("lS9n")},"data-v-428cf106",null).exports,componentMembers:a("VU/8")(Tt,xt,!1,function(t){a("u+nN")},"data-v-1aa206bc",null).exports},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},exportSummaries:function(t){this.$Message.error("Function is not available.")},disbandTeam:function(t,e){this.currentDisband={teamId:t,teamName:e},this.modalDisband=!0},disband:function(t){var e=this;if(this.password!==this.info.password)return this.$Notice.error({title:"Password is incorrect.",desc:""}),void setTimeout(function(){e.password="",e.modalDisband=!1},1e3);var a=this;st(this.currentDisband.teamId).then(function(t){200===t.status?!0===t.data.result?(a.$Notice.success({title:"Disband successful.",desc:""}),a.$router.push("/")):a.$Notice.error({title:"Disband failed.",desc:""}):a.$Notice.error({title:"HTTP request error.",desc:""}),a.modalDisband=!1}).catch(function(t){a.$Notice.error({title:"HTTP request error.",desc:""}),a.modalDisband=!1,console.log(t)})}}},Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",[a("div",{staticStyle:{color:"#2b85e4"},attrs:{slot:"title"},slot:"title"},[a("Icon",{staticClass:"icon-item",attrs:{type:"ios-people",size:"24"}}),t._v(" "),a("span",{staticClass:"span-team-name"},[t._v(t._s(t.teamData.name))])],1),t._v(" "),a("Alert",{attrs:{type:"success"}},[a("Tooltip",{attrs:{content:"Export projects"}},[a("componentExportProjects",{attrs:{type:t.teamType,teamRes:t.teamData}})],1),t._v(" "),a("Tooltip",{attrs:{content:"Export summaries"}},[1==t.teamType?a("Button",{staticClass:"btn-team",attrs:{type:"primary",shape:"circle",icon:"archive"},on:{click:function(e){t.exportSummaries(t.teamData.id)}}}):a("Button",{staticClass:"btn-team",attrs:{type:"primary",shape:"circle",icon:"archive",disabled:""}})],1),t._v(" "),a("Tooltip",{attrs:{content:"Invite people"}},[a("componentInvite",{attrs:{dataId:t.teamData.id,dataName:t.teamData.name}})],1),t._v(" "),a("Tooltip",{attrs:{content:"Disband team"}},[t.teamData.administratorId==t.info.id?a("Button",{staticClass:"btn-team",attrs:{type:"error",shape:"circle",icon:"android-warning"},on:{click:function(e){t.disbandTeam(t.teamData.id,t.teamData.name)}}}):a("Button",{staticClass:"btn-team",attrs:{type:"warning",shape:"circle",icon:"android-warning",disabled:""}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"pound",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.teamData.id))])],1)]),t._v(" "),a("div",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",staticStyle:{color:"#ff9900"},attrs:{type:"star",size:"18"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v(t._s(t.teamData.administratorName))])],1)]),t._v(" "),a("Collapse",[a("Panel",[a("span",{staticClass:"div-count"},[a("Icon",{staticClass:"icon-item",attrs:{type:"chatbubbles",size:"18"}}),t._v(" Member ("+t._s(t.teamData.members.length)+")")],1),t._v(" "),a("div",{staticClass:"div-members",attrs:{slot:"content"},slot:"content"},[a("componentMembers",{attrs:{type:t.teamType,teamSrc:t.teamData}})],1)])],1),t._v(" "),a("Modal",{staticClass:"modal-disband",attrs:{width:"80%",title:"Warning","mask-closable":!1,closable:!1,"ok-text":"Remove","cancel-text":"Cancel",loading:""},on:{"on-ok":function(e){t.disband()}},model:{value:t.modalDisband,callback:function(e){t.modalDisband=e},expression:"modalDisband"}},[a("Alert",{attrs:{type:"warning","show-icon":""}},[a("p",[t._v("Are you sure to disband "+t._s(t.currentDisband.teamName)+"("+t._s(t.currentDisband.teamId)+") ?")]),t._v(" "),a("p",[t._v("After disbanding the team, you should sign in again.")]),t._v(" "),a("template",{slot:"desc"},[a("p",[t._v("If yes, input the password to check your identity:")]),t._v(" "),a("Input",{staticStyle:{"margin-top":"20px"},attrs:{type:"password",size:"large",placeholder:"Password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],2)],1)],1)},staticRenderFns:[]};var Nt={name:"teamwork-overview",created:function(){this.getInfo(),this.getTeams()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},spinShow:!1,managedTeams:[],joinedTeams:[]}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c,componentTeam:a("VU/8")(St,Pt,!1,function(t){a("ahID")},"data-v-0ce2d281",null).exports},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},getTeams:function(){this.spinShow=!1;var t=this;tt(this.info.id).then(function(e){200===e.status?!0===e.data.result?(t.managedTeams=e.data.data.managedTeams,t.joinedTeams=e.data.data.joinedTeams):t.$Notice.error({title:"Failed to get data.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1,console.log(e)})}}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"11"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Collapse",[a("Panel",[a("span",{staticClass:"div-count",staticStyle:{color:"#1c2438"}},[t._v(" Managed ("+t._s(t.managedTeams.length)+")")]),t._v(" "),t._l(t.managedTeams,function(t){return a("div",{key:t.id,staticClass:"div-team",attrs:{slot:"content"},slot:"content"},[a("componentTeam",{attrs:{team:t,type:"1"}})],1)})],2),t._v(" "),a("Panel",[a("span",{staticClass:"div-count",staticStyle:{color:"#1c2438"}},[t._v(" Joined ("+t._s(t.joinedTeams.length)+")")]),t._v(" "),t._l(t.joinedTeams,function(t){return a("div",{key:t.id,staticClass:"div-team",attrs:{slot:"content"},slot:"content"},[a("componentTeam",{attrs:{team:t,type:"0"}})],1)})],2)],1)],1)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var Mt=a("VU/8")(Nt,$t,!1,function(t){a("6Rtc")},"data-v-3e7fd302",null).exports,zt={name:"teamwork-join",created:function(){this.getInfo()},data:function(){return{spinShow:!1,info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},searchContent:"",agreementJoin:"0",currentData:{},columnsTeam:[{type:"index",width:60,align:"center"},{title:"Id",key:"id"},{title:"Name",key:"name"},{title:"Administrator",key:"administrator"},{title:"Count",width:80,key:"count"}],dataTeam:[]}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},search:function(){if(!/^([a-zA-Z0-9\u4e00-\u9fa5\s]){2,10}$/.test(this.searchContent))return this.$Notice.error({title:"Invalid value.",desc:""}),void(this.searchContent="");this.spinShow=!0;var t=this;rt(this.searchContent).then(function(e){200===e.status?!0===e.data.result?t.dataTeam=e.data.data:t.$Notice.error({title:"Search failed.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1,console.log(e)})},changeSelection:function(t,e){this.currentData=t},clear:function(){this.dataTeam=[]},join:function(){this.spinShow=!0;var t=this;ct(this.info.id,this.currentData.id).then(function(e){200===e.status?!0===e.data.result?t.$Notice.success({title:"Send message successful.",desc:"Please waitting for manager to check."}):t.$Notice.error({title:"Join failed.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.spinShow=!1,console.log(e)})}}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"12"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[a("Alert",{staticClass:"alert"},[t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Alert",{staticStyle:{color:"red"},attrs:{type:"warning"}},[a("span",{staticClass:"span-agreement"},[t._v("Agreement")]),t._v(" "),a("template",{slot:"desc"},[a("ol",[a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("After joining a team, you will become the member of the team.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("As the member of the team, the team manager can view your all projects and summaries.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Manager can export a report about your projects or summaries.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Manager has right to remove you from the team.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Administrator has right to disband the team.")])])]),t._v(" "),a("RadioGroup",{model:{value:t.agreementJoin,callback:function(e){t.agreementJoin=e},expression:"agreementJoin"}},[a("Radio",{staticClass:"radio-agreement",attrs:{label:"0"}},[a("span",[t._v("Disagree")])]),t._v(" "),a("Radio",{staticClass:"radio-agreement",attrs:{label:"1"}},[a("span",[t._v("Agree")])])],1)],1)],2),t._v(" "),a("div",{staticClass:"div-search"},[a("Input",{staticClass:"input-search",attrs:{placeholder:"Team id or name",clearable:""},model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}}),t._v(" "),a("Button",{staticClass:"btn",attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:function(e){t.search()}}},[t._v("Search")]),t._v(" "),a("Button",{staticClass:"btn",attrs:{type:"info",shape:"circle",icon:"android-close"},on:{click:function(e){t.clear()}}},[t._v("Clear")]),t._v(" "),0==t.agreementJoin?a("Button",{staticClass:"btn",attrs:{type:"success",shape:"circle",icon:"android-add",disabled:""}},[t._v("Join")]):a("Button",{staticClass:"btn",attrs:{type:"success",shape:"circle",icon:"android-add"},on:{click:function(e){t.join()}}},[t._v("Join")]),t._v(" "),a("Table",{staticClass:"table-search",attrs:{"highlight-row":"",border:"",columns:t.columnsTeam,data:t.dataTeam,"no-data-text":"No data"},on:{"on-current-change":t.changeSelection}})],1)],1)],1)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var jt=a("VU/8")(zt,Ft,!1,function(t){a("cI5r")},"data-v-23a8a384",null).exports,Rt={name:"teamwork-create",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},spinShow:!1,agreementCreate:"0",createName:"",password:"",modalCreate:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},submit:function(){/^([a-zA-Z0-9\u4e00-\u9fa5\s]){2,10}$/.test(this.createName)?this.modalCreate=!0:(this.$Notice.error({title:"Invalid team name.",desc:""}),this.createName="")},create:function(){var t=this;if(this.password!==this.info.password)return this.$Notice.error({title:"Password is incorrect.",desc:""}),void setTimeout(function(){t.password="",t.modalCreate=!1},1e3);lt(this.info.id,this.createName).then(function(e){200===e.status?!0===e.data.result?t.$Notice.success({title:"Create team successful.",desc:""}):t.$Notice.error({title:"Create team failed.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.password="",t.modalCreate=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.password="",t.modalCreate=!1,console.log(e)})}}},Dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"13"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Alert",{staticClass:"alert"},[a("Alert",{staticStyle:{color:"red"},attrs:{type:"warning"}},[a("span",{staticClass:"span-agreement"},[t._v("Agreement")]),t._v(" "),a("template",{slot:"desc"},[a("ol",[a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("After creating a team, you will become the administrator of the team.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("As the manager of the team, you can view all projects and summaries of each member.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Manager can export a report about projects or summaries of any member.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Manager has right to remove any member from the team.")])]),t._v(" "),a("li",{staticClass:"li-agreement"},[a("span",{staticClass:"span-list"},[t._v("Administrator has right to disband the team.")])])]),t._v(" "),a("RadioGroup",{model:{value:t.agreementCreate,callback:function(e){t.agreementCreate=e},expression:"agreementCreate"}},[a("Radio",{staticClass:"radio-agreement",attrs:{label:"0"}},[a("span",[t._v("Disagree")])]),t._v(" "),a("Radio",{staticClass:"radio-agreement",attrs:{label:"1"}},[a("span",[t._v("Agree")])])],1)],1)],2),t._v(" "),a("Input",{staticClass:"input-create",attrs:{placeholder:"Team name",clearable:""},model:{value:t.createName,callback:function(e){t.createName=e},expression:"createName"}}),t._v(" "),0==t.agreementCreate?a("Button",{staticClass:"btn-create",attrs:{type:"primary",disabled:""}},[t._v("Submit")]):a("Button",{staticClass:"btn-create",attrs:{type:"primary"},on:{click:function(e){t.submit()}}},[t._v("Submit")])],1),t._v(" "),a("Modal",{staticClass:"modal-confirm",attrs:{title:"Confirm","mask-closable":!1,closable:!1,"ok-text":"Create","cancel-text":"Cancel",loading:""},on:{"on-ok":function(e){t.create()}},model:{value:t.modalCreate,callback:function(e){t.modalCreate=e},expression:"modalCreate"}},[a("p",[t._v("Input the password to check your identity:")]),t._v(" "),a("Input",{staticStyle:{"margin-top":"20px"},attrs:{type:"password",size:"large",placeholder:"Password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var Lt=a("VU/8")(Rt,Dt,!1,function(t){a("twF/")},"data-v-676078a2",null).exports,At=a("mvHQ"),Ht=a.n(At),Ut=function(t){var e=x()+"?user="+t;return M()({method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:e,baseURL:l(),timeout:5e3,withCredentials:!1})},Et=function(t,e,a,s,i,n){var o=F.a.stringify({user:t,type:e,date:a.getTime(),title:s.trim(),content:i,plans:Ht()(n)});return M()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:S(),baseURL:l(),data:o,timeout:5e3,withCredentials:!1})},Bt=function(t,e,a,s,i,n,o){var r=F.a.stringify({id:t,user:e,type:a,date:s.getTime(),title:i.trim(),content:n,plans:Ht()(o)});return M()({method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:N(),baseURL:l(),data:r,timeout:5e3,withCredentials:!1})},qt=function(t,e){var a=P()+"?id="+t+"&user="+e;return M()({method:"delete",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},url:a,baseURL:l(),timeout:5e3,withCredentials:!1})},Vt={name:"project-overview",created:function(){this.getInfo(),this.getProjects(0)},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},count:{total:0,done:0,doing:0},datas:[],currentTag:"0",spinShow:!1,detailModal:!1,dataCopy:{},subfieldDetail:!1,defaultOpenDetail:"preview",toolbarsFlagDetail:!1,modifyModal:!1,types:[{value:"1",label:"Yearly"},{value:"2",label:"Monthly"},{value:"3",label:"Weekly"},{value:"4",label:"Daily"}],formItem:{id:0,type:"",date:"",title:"",content:"",plans:[]},subfieldModify:!0,defaultOpenModify:"",placeholder:"Content",toolbarsFlagModify:!0,toolbarsModify:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!1,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0},editTag:"",editGoal:"",loadingDelete:!1,loadingModify:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},getProjects:function(t){this.spinShow=!0;var e=this;Ut(this.info.id).then(function(t){if(200===t.status)if(!0===t.data.result){e.datas=t.data.data;for(var a=0;a<e.datas.length;a++)e.datas[a].date=new Date(e.datas[a].date);e.computePercent(),e.clickTag(e.currentTag)}else e.$Notice.error({title:"Failed to get projects.",desc:""});else e.$Notice.error({title:"HTTP request error.",desc:""});e.spinShow=!1}).catch(function(t){e.$Notice.error({title:"HTTP request error.",desc:""}),e.spinShow=!1,console.log(t)})},computePercent:function(){for(var t=0;t<this.datas.length;t++)if(0===this.datas[t].plans.length)this.datas[t].percent=0;else{for(var e=0,a=0;a<this.datas[t].plans.length;a++)e+=this.datas[t].plans[a].percent;this.datas[t].percent=Math.round(e/this.datas[t].plans.length)}},clickTag:function(t){this.spinShow=!0,this.currentTag=t;var e=0,a=0,s=0;if("0"===t){e=this.datas.length;for(var i=0;i<this.datas.length;i++)this.datas[i].show=!0,100===this.datas[i].percent?a++:s++}else for(var n=0;n<this.datas.length;n++)""+this.datas[n].type===t?(e++,this.datas[n].show=!0,100===this.datas[n].percent?a++:s++):this.datas[n].show=!1;this.count={total:e,done:a,doing:s};var o=this;setTimeout(function(){o.spinShow=!1},1e3)},showModifyModal:function(t){this.spinShow=!0;for(var e=0;e<this.datas.length;e++)if(this.datas[e].id===t){this.formItem=JSON.parse(Ht()(this.datas[e]));break}this.formItem.date=new Date(this.formItem.date),this.formItem.type=""+this.formItem.type;var a=this;setTimeout(function(){a.modifyModal=!0,a.spinShow=!1},1e3)},showDetailModal:function(t){this.spinShow=!0;for(var e=0;e<this.datas.length;e++)if(this.datas[e].id===t){this.dataCopy=this.datas[e];break}var a=this;setTimeout(function(){a.detailModal=!0,a.spinShow=!1},1e3)},deletePlan:function(t){for(var e=0;e<this.formItem.plans.length;e++)if(this.formItem.plans[e].id===t){this.formItem.plans.splice(e,1);break}},addPlan:function(){var t={id:(new Date).getTime(),tag:this.editTag,goal:this.editGoal,percent:0};this.formItem.plans.push(t),this.editTag="",this.editGoal=""},submitModify:function(){this.loadingModify=!0;var t=this;Bt(this.formItem.id,this.info.id,this.formItem.type,this.formItem.date,this.formItem.title,this.formItem.content,this.formItem.plans).then(function(e){200===e.status?!0===e.data.result?(t.$Notice.success({title:"Modify successful.",desc:""}),t.getProjects(t.currentTag),t.modifyModal=!1):(t.$Notice.error({title:"Modify failed.",desc:""}),t.loadingModify=!1):(t.$Notice.error({title:"HTTP request error.",desc:""}),t.loadingModify=!1)}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.loadingModify=!1,console.log(e)})},deleteProject:function(){this.loadingDelete=!0;var t=this;qt(this.formItem.id,this.info.id).then(function(e){t.loadingDelete=!1,200===e.status?!0===e.data.result?(t.$Notice.success({title:"Delete successful.",desc:""}),t.getProjects(t.currentTag),t.modifyModal=!1):(t.$Notice.error({title:"Delete failed.",desc:""}),t.loadingDelete=!0):(t.$Notice.error({title:"HTTP request error.",desc:""}),t.loadingDelete=!0)}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),console.log(e)})}}},Ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"21"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[a("Menu",{staticClass:"menu",attrs:{mode:"horizontal",theme:"light","active-name":"0"},on:{"on-select":t.clickTag}},[a("MenuItem",{staticClass:"menu-item",attrs:{name:"0"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"bookmark",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("All")])],1)]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"1"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"bookmark",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("Yearly")])],1)]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"2"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"bookmark",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("Monthly")])],1)]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"3"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"bookmark",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("Weekly")])],1)]),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"4"}},[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"bookmark",size:"20"}}),t._v(" "),a("span",{staticClass:"span-item"},[t._v("Daily")])],1)])],1),t._v(" "),a("Layout",[a("Content",{style:{padding:"15px 0",minHeight:"280px",background:"#fff"}},[t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Collapse",[a("Panel",{attrs:{name:"Total"}},[a("span",{staticClass:"data-count",staticStyle:{color:"#2d8cf0"}},[t._v(" Total ("+t._s(t.count.total)+")")]),t._v(" "),t._l(t.datas,function(e){return 1==e.show?a("div",{key:e.id,staticClass:"data-div",attrs:{slot:"content"},slot:"content"},[a("Card",[a("div",[a("div",{staticClass:"card-top"},[100==e.percent?a("i-circle",{staticClass:"card-circle",attrs:{size:40,percent:100,"stroke-color":"#5cb85c","stroke-width":9,"trail-width":9}},[a("Icon",{attrs:{type:"ios-checkmark-empty",size:"50",color:"#5cb85c"}})],1):a("i-circle",{staticClass:"card-circle",staticStyle:{color:"#ed3f14"},attrs:{size:40,percent:e.percent,"stroke-color":"#2d8cf0","stroke-width":9,"trail-width":9}},[a("span",[t._v(t._s(e.percent)+"%")])]),t._v(" "),a("DatePicker",{staticClass:"card-date",attrs:{type:"date",size:"large",readonly:"",format:"yyyy-MM-dd"},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"data.date"}}),t._v(" "),a("span",{staticClass:"card-btn",on:{click:function(a){t.showModifyModal(e.id)}}},[a("Icon",{attrs:{type:"compose",size:"24"}})],1),t._v(" "),a("span",{staticClass:"card-btn",on:{click:function(a){t.showDetailModal(e.id)}}},[a("Icon",{attrs:{type:"android-open",size:"24"}})],1)],1),t._v(" "),a("p",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])])],1):t._e()})],2),t._v(" "),a("Panel",{attrs:{name:"Done"}},[a("span",{staticClass:"data-count",staticStyle:{color:"#19be6b"}},[t._v(" Done ("+t._s(t.count.done)+")")]),t._v(" "),t._l(t.datas,function(e){return 1==e.show&&100==e.percent?a("div",{key:e.id,staticClass:"data-div",attrs:{slot:"content"},slot:"content"},[a("Card",[a("div",[a("div",{staticClass:"card-top"},[100==e.percent?a("i-circle",{staticClass:"card-circle",attrs:{size:40,percent:100,"stroke-color":"#5cb85c","stroke-width":9,"trail-width":9}},[a("Icon",{attrs:{type:"ios-checkmark-empty",size:"50",color:"#5cb85c"}})],1):a("i-circle",{staticClass:"card-circle",staticStyle:{color:"#ed3f14"},attrs:{size:40,percent:e.percent,"stroke-color":"#2d8cf0","stroke-width":9,"trail-width":9}},[a("span",[t._v(t._s(e.percent)+"%")])]),t._v(" "),a("DatePicker",{staticClass:"card-date",attrs:{type:"date",size:"large",readonly:"",format:"yyyy-MM-dd"},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"data.date"}}),t._v(" "),a("span",{staticClass:"card-btn",on:{click:function(a){t.showModifyModal(e.id)}}},[a("Icon",{attrs:{type:"compose",size:"24"}})],1),t._v(" "),a("span",{staticClass:"card-btn",on:{click:function(a){t.showDetailModal(e.id)}}},[a("Icon",{attrs:{type:"android-open",size:"24"}})],1)],1),t._v(" "),a("p",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])])],1):t._e()})],2),t._v(" "),a("Panel",{attrs:{name:"Doing"}},[a("span",{staticClass:"data-count",staticStyle:{color:"#ed3f14"}},[t._v(" Doing ("+t._s(t.count.doing)+")")]),t._v(" "),t._l(t.datas,function(e){return 1==e.show&&100!=e.percent?a("div",{key:e.id,staticClass:"data-div",attrs:{slot:"content"},slot:"content"},[a("Card",[a("div",[a("div",{staticClass:"card-top"},[100==e.percent?a("i-circle",{staticClass:"card-circle",attrs:{size:40,percent:100,"stroke-color":"#5cb85c","stroke-width":9,"trail-width":9}},[a("Icon",{attrs:{type:"ios-checkmark-empty",size:"50",color:"#5cb85c"}})],1):a("i-circle",{staticClass:"card-circle",staticStyle:{color:"#ed3f14"},attrs:{size:40,percent:e.percent,"stroke-color":"#2d8cf0","stroke-width":9,"trail-width":9}},[a("span",[t._v(t._s(e.percent)+"%")])]),t._v(" "),a("DatePicker",{staticClass:"card-date",attrs:{type:"date",size:"large",readonly:"",format:"yyyy-MM-dd"},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"data.date"}}),t._v(" "),a("span",{staticClass:"card-btn",on:{click:function(a){t.showModifyModal(e.id)}}},[a("Icon",{attrs:{type:"compose",size:"24"}})],1),t._v(" "),a("span",{staticClass:"card-btn",on:{click:function(a){t.showDetailModal(e.id)}}},[a("Icon",{attrs:{type:"android-open",size:"24"}})],1)],1),t._v(" "),a("p",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])])],1):t._e()})],2)],1),t._v(" "),a("Modal",{staticClass:"modal",attrs:{"class-name":"vertical-center-modal",width:"90%",closable:!0,"mask-closable":!1,"ok-text":"Ok","cancel-text":"Cancel"},model:{value:t.detailModal,callback:function(e){t.detailModal=e},expression:"detailModal"}},[a("div",[a("div",{staticClass:"card-top"},[100==t.dataCopy.percent?a("i-circle",{staticClass:"card-circle",attrs:{size:40,percent:100,"stroke-color":"#5cb85c","stroke-width":9,"trail-width":9}},[a("Icon",{attrs:{type:"ios-checkmark-empty",size:"50",color:"#5cb85c"}})],1):a("i-circle",{staticClass:"card-circle",staticStyle:{color:"#ed3f14"},attrs:{size:40,percent:t.dataCopy.percent,"stroke-color":"#2d8cf0","stroke-width":9,"trail-width":9}},[a("span",[t._v(t._s(t.dataCopy.percent)+"%")])]),t._v(" "),a("DatePicker",{staticClass:"card-date",attrs:{type:"date",size:"large",readonly:"",format:"yyyy-MM-dd"},model:{value:t.dataCopy.date,callback:function(e){t.$set(t.dataCopy,"date",e)},expression:"dataCopy.date"}})],1),t._v(" "),a("p",{staticClass:"detail-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.dataCopy.title))]),t._v(" "),a("mavon-editor",{staticClass:"detail-content",attrs:{subfield:t.subfieldDetail,defaultOpen:t.defaultOpenDetail,toolbarsFlag:t.toolbarsFlagDetail},model:{value:t.dataCopy.content,callback:function(e){t.$set(t.dataCopy,"content",e)},expression:"dataCopy.content"}}),t._v(" "),a("div",{staticClass:"div-plans"},t._l(t.dataCopy.plans,function(e){return a("Alert",{key:e.id,staticClass:"alert-plans"},[100==e.percent?a("Progress",{staticClass:"detail-progress",attrs:{percent:100,"stroke-width":18}}):a("Progress",{staticClass:"detail-progress",attrs:{percent:e.percent,"stroke-width":18,status:"active"}}),t._v(" "),a("div",{staticClass:"div-plan"},[a("Tag",{staticClass:"tag-tag",attrs:{type:"border",color:"blue"}},[t._v(t._s(e.tag))]),t._v(" "),a("Input",{staticClass:"input-goal",attrs:{type:"text",readonly:!0},model:{value:e.goal,callback:function(a){t.$set(e,"goal",a)},expression:"item.goal"}})],1)],1)}))],1)]),t._v(" "),a("Modal",{staticClass:"modal",attrs:{"class-name":"vertical-center-modal",width:"90%",closable:!0,"mask-closable":!1,loading:t.loadingModify,"ok-text":"Modify","cancel-text":"Cancel"},on:{"on-ok":t.submitModify},model:{value:t.modifyModal,callback:function(e){t.modifyModal=e},expression:"modifyModal"}},[a("Form",{ref:"formItem",staticClass:"form",attrs:{model:t.formItem}},[a("FormItem",[a("Icon",{staticClass:"icon-item",attrs:{type:"bookmark",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set type")])],1),t._v(" "),a("FormItem",{attrs:{prop:"type"}},[a("Select",{staticClass:"select-type",attrs:{size:"large",placeholder:"Type"},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},t._l(t.types,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),a("FormItem",[a("Icon",{staticClass:"icon-item",attrs:{type:"calendar",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set date")])],1),t._v(" "),a("FormItem",{attrs:{prop:"date"}},[a("DatePicker",{staticClass:"card-date",attrs:{type:"date",size:"large",placeholder:"Date",confirm:""},model:{value:t.formItem.date,callback:function(e){t.$set(t.formItem,"date",e)},expression:"formItem.date"}})],1),t._v(" "),a("FormItem",[a("Icon",{staticClass:"icon-item",attrs:{type:"pin",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set title")])],1),t._v(" "),a("FormItem",{attrs:{prop:"title"}},[a("Input",{staticClass:"input-title",attrs:{type:"text",placeholder:"Title",clearable:"",size:"large"},model:{value:t.formItem.title,callback:function(e){t.$set(t.formItem,"title",e)},expression:"formItem.title"}})],1),t._v(" "),a("FormItem",[a("Icon",{staticClass:"icon-item",attrs:{type:"social-markdown",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set content")])],1),t._v(" "),a("FormItem",{attrs:{prop:"content"}},[a("mavon-editor",{staticClass:"mavon-editor",attrs:{subfield:t.subfieldModify,defaultOpen:t.defaultOpenModify,placeholder:t.placeholder,toolbarsFlag:t.toolbarsFlagModify,toolbars:t.toolbarsModify},model:{value:t.formItem.content,callback:function(e){t.$set(t.formItem,"content",e)},expression:"formItem.content"}})],1),t._v(" "),a("FormItem",[a("Icon",{staticClass:"icon-item",attrs:{type:"flag",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set plans")])],1),t._v(" "),a("FormItem",[t._l(t.formItem.plans,function(e){return a("Alert",{key:e.id,staticClass:"alert-projects",attrs:{type:"success"}},[a("Slider",{staticClass:"slider",attrs:{"show-input":""},model:{value:e.percent,callback:function(a){t.$set(e,"percent",a)},expression:"item.percent"}}),t._v(" "),a("div",{staticClass:"div-project"},[a("Input",{staticClass:"edit-tag",attrs:{type:"text",clearable:"",placeholder:"Tag"},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}}),t._v(" "),a("Input",{staticClass:"edit-goal",attrs:{type:"text",clearable:"",placeholder:"Goal"},model:{value:e.goal,callback:function(a){t.$set(e,"goal",a)},expression:"item.goal"}}),t._v(" "),a("Button",{staticClass:"btn-edit",attrs:{type:"ghost",shape:"circle",icon:"minus"},on:{click:function(a){t.deletePlan(e.id)}}})],1)],1)}),t._v(" "),a("Alert",{staticClass:"alert-projects"},[a("div",{staticClass:"div-project"},[a("Input",{staticClass:"edit-tag",attrs:{type:"text",clearable:"",placeholder:"Tag"},model:{value:t.editTag,callback:function(e){t.editTag=e},expression:"editTag"}}),t._v(" "),a("Input",{staticClass:"edit-goal",attrs:{type:"text",clearable:"",placeholder:"Goal"},model:{value:t.editGoal,callback:function(e){t.editGoal=e},expression:"editGoal"}}),t._v(" "),a("Button",{staticClass:"btn-edit",attrs:{type:"ghost",shape:"circle",icon:"plus"},on:{click:function(e){t.addPlan()}}})],1)])],2),t._v(" "),a("FormItem",[a("Icon",{staticClass:"icon-item",attrs:{type:"android-warning",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Delete project")])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"error",icon:"close-round",loading:t.loadingDelete},on:{click:function(e){t.deleteProject()}}},[t._v("Delete")])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var Gt=a("VU/8")(Vt,Ot,!1,function(t){a("5zOH")},"data-v-06b40092",null).exports,Wt={name:"project-create",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},types:[{value:"1",label:"Yearly"},{value:"2",label:"Monthly"},{value:"3",label:"Weekly"},{value:"4",label:"Daily"}],formItem:{type:"",date:null,title:"",content:"",plans:[]},ruleItem:{type:[{required:!0,message:"Please select the type.",trigger:"blur"}],date:[{required:!0,type:"date",message:"Please select the date.",trigger:"blur"}],title:[{required:!0,message:"Please fill in the title.",trigger:"blur"}],content:[{required:!0,message:"Please fill in the content.",trigger:"blur"}]},subfield:!0,defaultOpen:"",placeholder:"Content",toolbarsFlag:!0,toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!1,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0},editTag:"",editGoal:"",modalUpload:!1,modalSave:!1,spinShow:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},upload:function(){var t=document.getElementById("chooser").files;if(0!==t.length){var e=t[0],a=new FileReader,s=this;a.onload=function(t){s.formItem.content=t.target.result,s.$Notice.success({title:"Upload successful.",desc:""})},a.onerror=function(t){s.$Notice.error({title:"Upload failed.",desc:""})},a.onloadend=function(t){setTimeout(function(){s.modalUpload=!1},1e3)},a.readAsText(e,"utf-8")}else this.modalUpload=!1},deletePlan:function(t){for(var e=0;e<this.formItem.plans.length;e++)if(this.formItem.plans[e].id===t){this.formItem.plans.splice(e,1);break}},addPlan:function(){var t={id:(new Date).getTime(),tag:this.editTag,goal:this.editGoal};this.formItem.plans.push(t),this.editTag="",this.editGoal=""},handleReset:function(t){this.$refs[t].resetFields();var e=document.getElementById("chooser");e.outerHTML=e.outerHTML,this.formItem.plans=[]},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?e.modalSave=!0:e.$Notice.error({title:"Information is incorrect.",desc:""})})},save:function(){var t=this;Et(this.info.id,this.formItem.type,this.formItem.date,this.formItem.title,this.formItem.content,this.formItem.plans).then(function(e){200===e.status?!0===e.data.result?(t.$Notice.success({title:"Save successful.",desc:""}),t.handleReset("formItem")):t.$Notice.error({title:"Save failed.",desc:""}):t.$Notice.error({title:"HTTP request error.",desc:""}),t.modalSave=!1}).catch(function(e){t.$Notice.error({title:"HTTP request error.",desc:""}),t.modalSave=!1,console.log(e)})}}},Jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"22"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Form",{ref:"formItem",attrs:{model:t.formItem,rules:t.ruleItem}},[a("FormItem",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"bookmark",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set type")])],1)]),t._v(" "),a("FormItem",{attrs:{prop:"type"}},[a("Select",{staticClass:"select-type",attrs:{size:"large",placeholder:"Type"},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},t._l(t.types,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),a("FormItem",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"calendar",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set date")])],1)]),t._v(" "),a("FormItem",{attrs:{prop:"date"}},[a("DatePicker",{staticClass:"datePicker",attrs:{type:"date",size:"large",placeholder:"Date",confirm:""},model:{value:t.formItem.date,callback:function(e){t.$set(t.formItem,"date",e)},expression:"formItem.date"}})],1),t._v(" "),a("FormItem",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"pin",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set title")])],1)]),t._v(" "),a("FormItem",{attrs:{prop:"title"}},[a("Input",{staticClass:"input-title",attrs:{type:"text",placeholder:"Title",clearable:"",size:"large"},model:{value:t.formItem.title,callback:function(e){t.$set(t.formItem,"title",e)},expression:"formItem.title"}})],1),t._v(" "),a("FormItem",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"social-markdown",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set content")]),t._v(" "),a("Button",{staticClass:"btn-upload",staticStyle:{"margin-left":"40px"},on:{click:function(e){t.modalUpload=!0}}},[a("Icon",{attrs:{type:"upload",size:"18"}}),a("span",{staticClass:"span-btn"},[t._v("Upload")])],1)],1)]),t._v(" "),a("FormItem",{attrs:{prop:"content"}},[a("mavon-editor",{staticClass:"mavon-editor",attrs:{subfield:t.subfield,defaultOpen:t.defaultOpen,placeholder:t.placeholder,toolbarsFlag:t.toolbarsFlag,toolbars:t.toolbars},model:{value:t.formItem.content,callback:function(e){t.$set(t.formItem,"content",e)},expression:"formItem.content"}})],1),t._v(" "),a("FormItem",[a("div",{staticClass:"div-menu-item"},[a("Icon",{staticClass:"icon-item",attrs:{type:"flag",size:"18"}}),t._v(" "),a("span",{staticClass:"span-form"},[t._v("Set plans")])],1)]),t._v(" "),a("FormItem",[t._l(t.formItem.plans,function(e){return a("Alert",{key:e.id,staticClass:"alert-projects",attrs:{type:"success"}},[a("div",{staticClass:"div-project"},[a("Tag",{staticClass:"tag-tag",attrs:{type:"dot",color:"blue"}},[t._v(t._s(e.tag))]),t._v(" "),a("Input",{staticClass:"input-goal",attrs:{type:"text",readonly:!0},model:{value:e.goal,callback:function(a){t.$set(e,"goal",a)},expression:"item.goal"}}),t._v(" "),a("Button",{staticClass:"btn-edit",attrs:{type:"ghost",shape:"circle",icon:"minus"},on:{click:function(a){t.deletePlan(e.id)}}})],1)])}),t._v(" "),a("Alert",{staticClass:"alert-projects"},[a("div",{staticClass:"div-project"},[a("Input",{staticClass:"edit-tag",attrs:{type:"text",clearable:"",placeholder:"Tag"},model:{value:t.editTag,callback:function(e){t.editTag=e},expression:"editTag"}}),t._v(" "),a("Input",{staticClass:"edit-goal",attrs:{type:"text",clearable:"",placeholder:"Goal"},model:{value:t.editGoal,callback:function(e){t.editGoal=e},expression:"editGoal"}}),t._v(" "),a("Button",{staticClass:"btn-edit",attrs:{type:"ghost",shape:"circle",icon:"plus"},on:{click:function(e){t.addPlan()}}})],1)])],2),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("FormItem",[a("Button",{staticClass:"btn-item",attrs:{type:"primary",size:"large"},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("Save")]),t._v(" "),a("Button",{staticClass:"btn-item",attrs:{size:"large"},on:{click:function(e){t.handleReset("formItem")}}},[t._v("Reset")])],1),t._v(" "),a("Modal",{staticClass:"modal-confirm",attrs:{title:"Upload","mask-closable":!1,closable:!1,"ok-text":"Upload","cancel-text":"Cancel",loading:""},on:{"on-ok":function(e){t.upload()}},model:{value:t.modalUpload,callback:function(e){t.modalUpload=e},expression:"modalUpload"}},[a("input",{staticClass:"input-chooser",attrs:{type:"file",accept:".md",id:"chooser"}}),t._v(" "),a("p",[t._v("The content you upload will cover the origin content.")]),t._v(" "),a("p",[t._v("Are you sure to upload?")])]),t._v(" "),a("Modal",{staticClass:"modal-confirm",attrs:{title:"Confirm","mask-closable":!1,closable:!1,"ok-text":"Save","cancel-text":"Cancel",loading:""},on:{"on-ok":function(e){t.save()}},model:{value:t.modalSave,callback:function(e){t.modalSave=e},expression:"modalSave"}},[a("p",[t._v("Are you sure to save?")])])],1)],1)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var Yt=a("VU/8")(Wt,Jt,!1,function(t){a("SyiI")},"data-v-2d1b4655",null).exports,Zt={name:"project-search",created:function(){this.getInfo(),this.clickTag("1")},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},currentType:"1",spinShow:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo},clickTag:function(t){this.currentType=t}}},Qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("componentNavTop")],1),t._v(" "),a("Layout",[a("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[a("componentNavLeft",{attrs:{activeName:"23"}})],1),t._v(" "),a("Layout",{style:{padding:"0 24px"}},[a("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[t.spinShow?a("Spin",{staticClass:"spin",attrs:{fix:""}},[a("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):t._e(),t._v(" "),a("Menu",{staticClass:"menu",attrs:{mode:"horizontal",theme:"light","active-name":"1"},on:{"on-select":t.clickTag}},[a("MenuItem",{staticClass:"menu-item",attrs:{name:"1"}},[a("Icon",{attrs:{type:"bookmark",size:"18"}}),t._v("\n            Whole project\n            ")],1),t._v(" "),a("MenuItem",{staticClass:"menu-item",attrs:{name:"2"}},[a("Icon",{attrs:{type:"bookmark",size:"18"}}),t._v("\n            Only goal\n            ")],1)],1),t._v(" "),a("Layout",[a("Content",{style:{padding:"15px 0",minHeight:"280px",background:"#fff"}},[1==t.currentType?a("div",[t._v("\n                Function is not available\n              ")]):t._e(),t._v(" "),2==t.currentType?a("div",[t._v("\n                Function is not available\n              ")]):t._e()])],1)],1)],1)],1),t._v(" "),a("componentFooter"),t._v(" "),a("BackTop")],1)],1)},staticRenderFns:[]};var Xt=a("VU/8")(Zt,Qt,!1,function(t){a("pcDZ")},"data-v-917cfce6",null).exports,Kt={name:"summary-overview",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},spinShow:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo}}},te={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout"},[e("Layout",[e("Header",[e("componentNavTop")],1),this._v(" "),e("Layout",[e("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[e("componentNavLeft",{attrs:{activeName:"31"}})],1),this._v(" "),e("Layout",{style:{padding:"0 24px"}},[e("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[this.spinShow?e("Spin",{staticClass:"spin",attrs:{fix:""}},[e("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):this._e(),this._v("\n\n          Function is not available\n        ")],1)],1)],1),this._v(" "),e("componentFooter"),this._v(" "),e("BackTop")],1)],1)},staticRenderFns:[]};var ee=a("VU/8")(Kt,te,!1,function(t){a("GlFE")},"data-v-7a7d7ee0",null).exports,ae={name:"summary-create",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},spinShow:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo}}},se={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout"},[e("Layout",[e("Header",[e("componentNavTop")],1),this._v(" "),e("Layout",[e("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[e("componentNavLeft",{attrs:{activeName:"32"}})],1),this._v(" "),e("Layout",{style:{padding:"0 24px"}},[e("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[this.spinShow?e("Spin",{staticClass:"spin",attrs:{fix:""}},[e("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):this._e(),this._v("\n\n          Function is not available\n        ")],1)],1)],1),this._v(" "),e("componentFooter"),this._v(" "),e("BackTop")],1)],1)},staticRenderFns:[]};var ie=a("VU/8")(ae,se,!1,function(t){a("nl7q")},"data-v-68c81cb1",null).exports,ne={name:"summary-search",created:function(){this.getInfo()},data:function(){return{info:{id:0,num:"",tel:"",name:"",email:"",messages:[]},spinShow:!1}},components:{componentNavTop:W,componentNavLeft:Y,componentFooter:c},methods:{getInfo:function(){this.info=this.$store.state.user.userInfo}}},oe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout"},[e("Layout",[e("Header",[e("componentNavTop")],1),this._v(" "),e("Layout",[e("Sider",{style:{height:"100vh",background:"#fff"},attrs:{"hide-trigger":""}},[e("componentNavLeft",{attrs:{activeName:"33"}})],1),this._v(" "),e("Layout",{style:{padding:"0 24px"}},[e("Content",{style:{padding:"15px",minHeight:"280px",background:"#fff"}},[this.spinShow?e("Spin",{staticClass:"spin",attrs:{fix:""}},[e("Icon",{staticClass:"icon-spin",attrs:{type:"load-c",size:"50"}})],1):this._e(),this._v("\n\n          Function is not available\n        ")],1)],1)],1),this._v(" "),e("componentFooter"),this._v(" "),e("BackTop")],1)],1)},staticRenderFns:[]};var re=a("VU/8")(ne,oe,!1,function(t){a("AuNF")},"data-v-0d389372",null).exports;s.default.use(o.a);var ce,le=new o.a({routes:[{path:"/signIn",name:"signIn",component:H},{path:"/",name:"signin",component:H},{path:"/signUp",name:"signUp",component:B},{path:"/retrieve",name:"retrieve",component:V},{path:"/home",name:"home",component:X},{path:"/information/overview",name:"informationOverview",component:ft},{path:"/information/modify",name:"informationModify",component:gt},{path:"/teamwork/overview",name:"teamworkOverview",component:Mt},{path:"/teamwork/join",name:"teamworkJoin",component:jt},{path:"/teamwork/create",name:"teamworkCreate",component:Lt},{path:"/project/overview",name:"projectOverview",component:Gt},{path:"/project/create",name:"projectCreate",component:Yt},{path:"/project/search",name:"projectSearch",component:Xt},{path:"/summary/overview",name:"summaryOverview",component:ee},{path:"/summary/create",name:"summaryCreate",component:ie},{path:"/summary/search",name:"summarySearch",component:re}]}),me=a("NYxO"),de=a("mUbh"),ue=a("ukYY"),pe=a("UjVw"),fe=(a("sax8"),a("bOdI")),ve=a.n(fe),he={state:{active:!1,domain:"http://localhost:12102",userInfo:{id:0,num:null,tel:null,name:null,email:null,password:null,messages:[{messageId:0,type:0,senderNum:"",senderName:"",teamId:0,teamName:""}]}},mutations:(ce={},ve()(ce,"SIGNIN",function(t,e){t.active=!0,t.userInfo=e}),ve()(ce,"SIGNOUT",function(t){t.active=!1,t.userInfo=null}),ve()(ce,"UPDATE",function(t,e){t.userInfo.tel=e.tel,t.userInfo.name=e.name,t.userInfo.email=e.email,t.userInfo.password=e.password}),ve()(ce,"DELETEMSG",function(t,e){for(var a=0;a<t.userInfo.messages.length;a++)if(t.userInfo.messages[a].messageId===e){t.userInfo.messages.splice(a,1);break}}),ce),actions:{doSignIn:function(t,e){(0,t.commit)("SIGNIN",e)},doSignOut:function(t){(0,t.commit)("SIGNOUT")},doUpdate:function(t,e){(0,t.commit)("UPDATE",e)},doDeleteMsg:function(t,e){(0,t.commit)("DELETEMSG",e)}}};s.default.use(me.a);var ge=new me.a.Store({actions:de,mutations:ue,getters:pe,modules:{user:he},strict:!1,plugins:[]}),ye=(a("8S6E"),a("OS1Z")),_e=a.n(ye),Ce=(a("pw1w"),a("BTaQ")),be=a.n(Ce);a("+skl");s.default.config.productionTip=!1,s.default.use(me.a),s.default.use(_e.a),s.default.use(be.a),new s.default({el:"#app",router:le,store:ge,components:{App:n},template:"<App/>"})},SyiI:function(t,e){},"Ti/L":function(t,e){},TjOA:function(t,e){},UjVw:function(t,e){},ahID:function(t,e){},cI5r:function(t,e){},f9DA:function(t,e){},iamz:function(t,e){},kWIV:function(t,e){},l2Mk:function(t,e){},lS9n:function(t,e){},mUbh:function(t,e){},nl7q:function(t,e){},pcDZ:function(t,e){},pi9I:function(t,e){},pw1w:function(t,e){},tcOL:function(t,e){},"twF/":function(t,e){},"u+nN":function(t,e){},ukYY:function(t,e){},zMcO:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7815257243656f4b96da.js.map